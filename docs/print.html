<!DOCTYPE HTML>
<html lang="it" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>TPSI - Quarto anno - 2021</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Materiale di supporto alle lezioni.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="01-linux/index.html"><strong aria-hidden="true">1.</strong> Basi di Linux</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="01-linux/chapter_1.html"><strong aria-hidden="true">1.1.</strong> Kernel&amp;Shell</a></li><li class="chapter-item expanded "><a href="01-linux/chapter_2.html"><strong aria-hidden="true">1.2.</strong> Comandi</a></li></ol></li><li class="chapter-item expanded "><a href="02-prog/index.html"><strong aria-hidden="true">2.</strong> Basi di programmazione</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="02-prog/01-types.html"><strong aria-hidden="true">2.1.</strong> Tipi</a></li><li class="chapter-item expanded "><a href="02-prog/02-python.html"><strong aria-hidden="true">2.2.</strong> Python</a></li><li class="chapter-item expanded "><a href="02-prog/02-1-python-install.html"><strong aria-hidden="true">2.3.</strong> Come usare Python</a></li><li class="chapter-item expanded "><a href="02-prog/03-tris.html"><strong aria-hidden="true">2.4.</strong> Gioco del Tris (locale)</a></li><li class="chapter-item expanded "><a href="02-prog/04-test.html"><strong aria-hidden="true">2.5.</strong> Test del gioco</a></li></ol></li><li class="chapter-item expanded "><a href="03-web/index.html"><strong aria-hidden="true">3.</strong> Web</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="03-web/01-client-server.html"><strong aria-hidden="true">3.1.</strong> Client/server</a></li><li class="chapter-item expanded "><a href="03-web/02-url.html"><strong aria-hidden="true">3.2.</strong> URL</a></li><li class="chapter-item expanded "><a href="03-web/03-http.html"><strong aria-hidden="true">3.3.</strong> HTTP</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="03-web/03-http-rest.html"><strong aria-hidden="true">3.3.1.</strong> REST</a></li></ol></li><li class="chapter-item expanded "><a href="03-web/04-json.html"><strong aria-hidden="true">3.4.</strong> JSON</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="03-web/04-json-xml.html"><strong aria-hidden="true">3.4.1.</strong> Confronto con XML</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">TPSI - Quarto anno - 2021</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/wbigger/book-tpsi-4y-2021.git" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="basi-di-linux"><a class="header" href="#basi-di-linux">Basi di Linux</a></h1>
<p>In questo capitolo vedremo le basi del sistema operativo Linux ed i comandi pi√π importanti da utilizzare nella riga di comando.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="organizzazione-di-un-sistema-operativo"><a class="header" href="#organizzazione-di-un-sistema-operativo">Organizzazione di un sistema operativo</a></h1>
<p>Il sistema operativo gestisce le risorse della macchina (memoria, processore, periferiche) per permettere a pi√π applicazioni di poter funzionare contemporaneamente. Ma ogni cosa ha un suo costo: il sistema operativo utilizza per s√© stesso una porzione a volte considerevole delle risorse stesse del nostro computer: pensiamo a quanti GB sul disco occupa una installazione di Windows o Mac, a quanta memoria occupa, e che ha volte i loro processi impegnano la CPU senza una ragione apparente. Oltre a questo pensiamo a problemi di vulnerabilit√†, aggiornamento, etc.</p>
<blockquote>
<p>Se noi vogliamo far girare un solo programma sul computer, possiamo non aver bisogno di un sistema operativo. Tipicamente quest accade per piccoli elaboratori per compiti molto specifici: questo sistemi vengono chiamati <em>embedded</em>.</p>
</blockquote>
<p>Il sistema operativo √® una componente software molto complessa: per poter essere gestita in maniera ottimale, √® stata divisa in sotto-componenti. Di seguito vediamo i principali.</p>
<h1 id="kernel"><a class="header" href="#kernel">Kernel</a></h1>
<p>Per rappresentare i componenti del sistema operativo, si usa spesso la metafora delle sfere concentriche, in cui al centro di tutto c'√® l'hardware.</p>
<p align="center">
<img title="shell-kernel" src='./assets/shell-kernel.png' width='70%' style="padding: 50px 0 30px 0;">
</p>
<p>Il programma che √® pi√π vicino all'hardware viene chiamato <strong>kernel</strong>. Noi ci occuperemo in particolare del kernel <strong>Linux</strong>, un kernel open-source.</p>
<blockquote>
<p>Il kernel Linux √® stato creato nel 1991 dal finlandese Linus Torvalds ed √® distribuito attraverso la licenza di software libero GNU GPLv2. Questa licenza √® stata ideata da Richard Stallman (dell'MIT di Boston) per tutelare il software &quot;libero&quot; (in inglese free software, in cui la parola free ha il significato di libero come in &quot;free as in speech&quot;).</p>
</blockquote>
<p>Il kernel si occupa di mediare l'accesso delle applicazioni alle risorse del computer:</p>
<ul>
<li>central processing unit (CPU)</li>
<li>memoria volatile (RAM)</li>
<li>periferiche di input/output (hard disk, tastiera, mouse, stampanti, etc.)</li>
</ul>
<p>Il kernel √® un programma come gli altri, non ha niente di &quot;magico&quot;. In particolare il kernel √® un insieme di librerie scritte principalmente in C/C++. Del kernel Linux possiamo anche vederne il <a href="https://github.com/torvalds/linux">codice sorgente</a>, visto che √® un software libero e quindi anche aperto.</p>
<h1 id="shell"><a class="header" href="#shell">Shell</a></h1>
<p>Per usare direttamente il kernel dovremmo scrivere dei programmi in C/C++, ad esempio per interrogare l'hard-disk e farci restituire i file all'interno di una certa cartella. Scrivere un programma noi per ogni operazione che dobbiamo svolgere, ovviamente non √® molto comodo.</p>
<p>Per poter usare in maniera le chiamate di sistema che ci mette a disposizione il kernel, ci sono una serie di strumenti che ci facilitano i compito. Per Linux, queste utilit√† sono state sviluppate dal <a href="01-linux/www.gnu.org">progetto GNU</a>, e si chiamano <strong>GNU coreutils</strong>.</p>
<blockquote>
<p>Il progetto GNU √® stato fondato nel 1983 da Richard Stallman, al MIT di Boston. GNU ha lo scopo in primo luogo di permettere agli sviluppatori di tutto il mondo di poter sviluppare <em>liberamente</em> software, ovvero avendo a disposizione il codice sorgente dei programmi di altre aziende che usano, e senza la necessit√† di pagare licenze. Le utilit√† che useremo in questo corso sono solo parte del progetto; un'altra parte fondamentale √® la licenza che permette al software di essere usato legalmente, rispettando le libert√† fondamentali del free software. Il nome di questa licenza √® GPL (General Public Licence), di cui l'ultima versione √® la <a href="https://www.gnu.org/licenses/gpl.html">GPLv3</a> <p align="center"><a href='https://www.gnu.org/licenses/gpl.html'><img src='./assets/gpl.png' width='200px'></a></p></p>
</blockquote>
<p>Anche in questo caso possiamo andare a cercare il <a href="http://git.savannah.gnu.org/cgit/coreutils.git">codice sorgente</a>.</p>
<h1 id="terminale"><a class="header" href="#terminale">Terminale</a></h1>
<p>Per poter interagire con la shell, abbiamo bisogno di un'applicazione specifica che ci permetta di farlo. Quest'applicazione si chiama &quot;terminale&quot;.</p>
<p align="center">
<img title="shell-kernel" src='./assets/terminal.png' width='70%' style="padding: 50px 0 30px 0;">
</p>
<p>Nell'immagine vedete l'applicazione &quot;iTerm2&quot;, molto usata in ambito Apple come terminale.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="comandi"><a class="header" href="#comandi">Comandi</a></h1>
<h2 id="echo"><a class="header" href="#echo">echo</a></h2>
<p>Ritorna un'&quot;eco&quot; del suo argomento sul terminale.</p>
<pre><code class="language-sh">$ echo ciao
ciao
</code></pre>
<h2 id="touch"><a class="header" href="#touch">touch</a></h2>
<p>Crea un file o, se gi√† esiste, ne aggiorna la data di ultima modifica.</p>
<pre><code class="language-sh">$ touch ciao
</code></pre>
<h2 id="cat"><a class="header" href="#cat">cat</a></h2>
<p>Abbreviazione di &quot;concatenate&quot;, mostra il contenuto di un file.</p>
<pre><code class="language-sh">$ cat ciao
</code></pre>
<h2 id="redirect"><a class="header" href="#redirect">Redirect</a></h2>
<p>Il carattere <code>&gt;</code> redirige l'output di un comando verso un file, invece del terminale. Se il file non esiste, viene creato. Se il file esiste, viene sovrascritto.</p>
<pre><code class="language-sh">$ echo &quot;buongiorno&quot; &gt; buongiorno.txt
</code></pre>
<p>Se si vuole aggiungere il testo alla fine del file senza sovrascriverlo, si pu√≤ usare il <code>&gt;&gt;</code>.</p>
<pre><code class="language-sh">$ echo &quot;buongiorno&quot; &gt;&gt; buongiorno.txt
$ cat buongiorno.txt
buongiorno
buongiorno
</code></pre>
<h2 id="ls"><a class="header" href="#ls">ls</a></h2>
<p>Elenca i file nella cartella corrente</p>
<pre><code class="language-sh">$ ls
buongiorno.txt	ciao
</code></pre>
<p>L'opzione <code>-l</code> mostra i dettagli del file.</p>
<pre><code class="language-sh">$ ls -l
total 8
-rw-r--r--  1 claudio  staff   11 Oct 12 07:03 buongiorno.txt
-rw-r--r--  1 claudio  staff    0 Oct 12 07:00 ciao
</code></pre>
<p>Aggiungendo anche l'opzione <code>-h</code> mostra i dettagli del file in un formato pi√π leggibile per l'essere umano (&quot;human&quot;). Notare la B alla fine della quinta colonna, che sta per &quot;Byte&quot;.</p>
<pre><code class="language-sh">$ ls -lh
total 8
total 8
-rw-r--r--  1 claudio  staff    11B Oct 12 07:03 buongiorno.txt
-rw-r--r--  1 claudio  staff     0B Oct 12 07:00 ciao
</code></pre>
<p>Un'altra opzione utile √® <code>-a</code>, per visualizzare anche i file nascosti. Su linux, un file √® nascosto semplicemente se inizia con il carattere punto (<code>.</code>).</p>
<pre><code class="language-sh">$ ls -lha
total 8
drwxr-xr-x  4 claudio  staff   128B Oct 12 07:03 .
drwxr-xr-x  4 claudio  staff   128B Oct 12 07:00 ..
-rw-r--r--  1 claudio  staff    11B Oct 12 07:03 buongiorno.txt
-rw-r--r--  1 claudio  staff     0B Oct 12 07:00 ciao
</code></pre>
<h2 id="pwd"><a class="header" href="#pwd">pwd</a></h2>
<p>Abbreviazione di Print Working Directory, visualizza la directory corrente.</p>
<pre><code class="language-sh">$ pwd
/Users/claudio/try/bash
</code></pre>
<h2 id="mkdir"><a class="header" href="#mkdir">mkdir</a></h2>
<p>Abbreviazione di &quot;make directory&quot;, crea una nuova cartella.</p>
<pre><code class="language-sh">$ mkdir food
$ ls -l
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
</code></pre>
<p>Si pu√≤ capire che √® una cartella perch√© il primo carattere nella riga di &quot;food&quot; √® una <code>d</code> che sta appunto per &quot;directory&quot;. I file hanno invece un trattino. Alcuni terminali mostrano le cartelle anche con un colore diverso.</p>
<h2 id="cd"><a class="header" href="#cd">cd</a></h2>
<p>Abbreviazione di &quot;change directory&quot;, permette di spostarsi tra cartelle.</p>
<pre><code class="language-sh">$ cd food
$ pwd
/Users/claudio/try/bash/food
</code></pre>
<p>Usando <code>cd</code> senza argomenti, torno alla &quot;home directory&quot;, che viene anche rappresentata con il simbolo <code>~</code> (si legge tilde).</p>
<pre><code class="language-sh">$ cd
$ pwd
/Users/claudio/
$ cd ~ # comando equivalente al precedente
$ pwd
/Users/claudio/
</code></pre>
<p>Per tornare alla directory precedente, si pu√≤ usare il simbolo <code>-</code> (trattino).</p>
<pre><code class="language-sh">$ cd -
$ pwd
/Users/claudio/try/bash/food
</code></pre>
<p>Per salire di una directory si pu√≤ usare il doppio punto.</p>
<pre><code class="language-sh">$ cd ..
$ pwd
/Users/claudio/try/bash
</code></pre>
<h2 id="cp"><a class="header" href="#cp">cp</a></h2>
<p>Copia un file, abbreviazione di copy.</p>
<pre><code class="language-sh">$ cp ciao hello
$ ls
total 8
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
-rw-r--r--  1 claudio  staff   0 Oct 12 07:20 hello
</code></pre>
<h2 id="mv"><a class="header" href="#mv">mv</a></h2>
<p>Sposta un file da una cartella ad un'altra. Se la cartella di partenza e destinazione coincidono, semplicemente rinomina il file.</p>
<pre><code class="language-sh">$ mv hello hola
$ ls
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
-rw-r--r--  1 claudio  staff   0 Oct 12 07:20 hola
</code></pre>
<h2 id="rm"><a class="header" href="#rm">rm</a></h2>
<p>Elimina un file, abbreviazione di remove.</p>
<pre><code class="language-sh">$ rm hola
$ ls
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
</code></pre>
<h2 id="top"><a class="header" href="#top">top</a></h2>
<p>Visualizza i processi attualmente in esecuzione nella macchina.</p>
<pre><code class="language-sh">$ top
</code></pre>
<p>Viene visualizzata una tabella a schermo intero. Per uscire, premere la combinazione di tasti <code>ctrl-c</code></p>
<h2 id="kill"><a class="header" href="#kill">kill</a></h2>
<p>Termina (uccide) un processo in esecuzione. Come argomento deve avere il numero del processo (PID - process ID) che viene visualizzato ad esempio con top.</p>
<pre><code class="language-sh">$ kill 11459 # termina il processo con PID 11459
</code></pre>
<h2 id="yes"><a class="header" href="#yes">yes</a></h2>
<p>Stampa su terminale una stringa all'infinito. Di default stampa 'y' ma si pu√≤ personalizzare passandogli un argomento.</p>
<pre><code class="language-sh">$ yes marconi
marconi
marconi
marconi
....
</code></pre>
<p>Anche in questo caso uscire con <code>ctrl-c</code></p>
<h2 id="devnull"><a class="header" href="#devnull">/dev/null</a></h2>
<p>Un file speciale all'interno del file system linux che √® un pozzo senza fondo.</p>
<pre><code class="language-sh">$ yes &gt; /dev/null ## l'output di yes viene sostanzialmente scartato
</code></pre>
<h2 id="ctrl-c"><a class="header" href="#ctrl-c">ctrl-c</a></h2>
<p>Termina (uccide) il processo corrente.</p>
<h2 id="ctrl-z"><a class="header" href="#ctrl-z">ctrl-z</a></h2>
<p>Sospende il processo corrente. Per rimetterlo in esecuzione, si possono usare i comandi <code>bg</code> o <code>fg</code></p>
<h2 id="jobs"><a class="header" href="#jobs">jobs</a></h2>
<p>Visualizza i lavori in esecuzione. Un &quot;lavoro&quot; √® un processo (o pi√π precisamente pu√≤ essere un insieme di processi) che √® stato lanciato dalla shell corrente. </p>
<pre><code class="language-sh">$ yes uno &gt; /dev/null
# ctrl-z
suspended  yes uno &gt; /dev/null
$ yes due &gt; /dev/null
# ctrl-z
suspended  yes due &gt; /dev/null
$ yes tre &gt; /dev/null
# ctrl-z
suspended  yes tre &gt; /dev/null
$ jobs
[1]    suspended  yes uno &gt; /dev/null
[2]  - suspended  yes due &gt; /dev/null
[3]  + suspended  yes tre &gt; /dev/null
</code></pre>
<p>Per riprendere un lavoro e portarlo in &quot;foreground&quot;, ovvero accessibile dalla shell, si usa <code>fg</code>. Se uso <code>fg</code> senza argomenti, mette in foreground il lavoro contrassegnato dal +.</p>
<p>Per riprendere un lavoro e portarlo in &quot;background&quot;, ovvero <em>non</em> accessibile dalla shell, si usa <code>bg</code>.</p>
<p>Per terminare un lavoro, posso usare sempre <code>kill</code>, ma l'argomento deve avere il simbolo %.</p>
<pre><code class="language-sh">$ kill %2
[2]  - terminated  yes due &gt; /dev/null
$ jobs
[1]  - suspended  yes uno &gt; /dev/null
[3]  + suspended  yes tre &gt; /dev/null
</code></pre>
<h2 id="variabili-di-ambiente"><a class="header" href="#variabili-di-ambiente">Variabili di ambiente</a></h2>
<p>Ogni terminale usa delle variabili che sono definite automaticamente quando viene aperto. Queste variabili vengono dette <em>variabili di ambiente</em>. Per visualizzarle si pu√≤ usare il comando <code>env</code>.</p>
<pre><code class="language-sh">$ env
TERM_SESSION_ID=w1t0p0:3B371076-0F20-4C26-ACD4-4656F13F9AEA
SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.P5eh4I2m5h/Listeners
LC_TERMINAL_VERSION=3.4.10
COLORFGBG=7;0
......continua.......
</code></pre>
<p>Per visualizzare una sola variabile, si pu√≤ usare <code>echo</code> e la variabile deve essere preceduta dal carattere dollaro.</p>
<pre><code class="language-sh">$ echo $SHELL
/bin/bash
</code></pre>
<p>Per assegnare una variabile, si pu√≤ usare il comando <code>export</code>.</p>
<pre><code class="language-sh">$ export PS1=&quot;test&gt;&quot;
</code></pre>
<p>Di seguito alcune variabili di ambiente che abbiamo visto:</p>
<ul>
<li>$TERM: quale standard rispetta l'applicazione terminale in uso, di solito √® <code>xterm</code> o <code>xterm-256color</code></li>
<li>$SHELL: quale shell sto utilizzando, su Ubuntu di default √® bash (quella sviluppata da GNU)</li>
<li>$PS1: il prompt dei comandi, ovvero tutto quello che c'√® prima del dollaro (dollaro compreso), solitamente include la directory corrente ed il nome utente</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="premessa-concetti-base-di-programmazione"><a class="header" href="#premessa-concetti-base-di-programmazione">Premessa: concetti base di programmazione</a></h1>
<p>Quando vogliamo imparare a programmare, in qualsiasi linguaggio, ci troviamo di fronte ad una pagina vuota.</p>
<p>Cosa dobbiamo fare? Cosa dobbiamo scrivere in questa pagina che ci si presenta davanti?</p>
<p>Quello che facciamo quando scriviamo un programma √® qualcosa di fortemente creativo: non andremo solo a scrivere del codice che esegue istruzioni, ma andremo a creare un mondo nuovo, in cui ci potremo muovere ed agire con i concetti e le relazioni che avremo definito noi stessi.</p>
<p>Scrivere codice √® come scrivere un romanzo o dipingere su una tela. Le nostre penne e pennelli sono tastiera e mouse, e la tela √® lo schermo. Quello che andremo a realizzare per√≤ sar√† qualcosa che non solo <em>rappresenta</em> la realt√†, ma andr√† anche ad <em>interagire</em> con essa, e in un medio periodo pu√≤ anche modificarla ed a sua volta esserne modificato. In altre parole il codice √® una cosa viva, in continua evoluzione, la cui capacit√† di replicazione e mutazione (soprattutto per il codice open-source) lo rende vicino per certi versi ad un essere vivente.</p>
<h2 id="un-programmatore-√®-un-bravo-osservatore"><a class="header" href="#un-programmatore-√®-un-bravo-osservatore">Un programmatore √® un bravo osservatore</a></h2>
<p>Un programmatore √® un informatico ed il compito principale di un informatico √®... risolvere problemi. Per poter risolvere un problema, per√≤, bisogna prima capire <em>qual √®</em> il problema, <em>chi</em> ha il problema e <em>perch√©</em>. Per poter fare questo, un programmatore deve essere un bravo osservatore della realt√†. Pi√π importante del QI o della genialit√†, √® la capacit√† di saper osservare il mondo, ascoltare le persone, immedesimarsi negli altri e saper trasformare tutto questo in righe di codice che funzionino.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tipi"><a class="header" href="#tipi">Tipi</a></h1>
<p>Tutto comincia con i tipi. </p>
<p>Per dare una forma ed un senso a quello che ci circonda, dobbiamo poter <em>assegnare</em> a quello che ci percepiamo un <em>nome</em> che rappresenta una categoria, un insieme di propriet√† e caratteristiche che accumunano un qualcosa ad altre cose che conosciamo gi√†. Questo &quot;nome comune&quot; di cosa, persona o animale&quot; che ci ricorda i nostri studi elementari e che ha posto le basi alla nostra comprensione della lingua parlata e scritte, si ripropone ora all'inizio dei nostri studi dei linguaggi di programmazione. Questi nomi in programmazione prendono il nome di <em>tipi</em>.</p>
<h2 id="tipi-fondamentali"><a class="header" href="#tipi-fondamentali">Tipi fondamentali</a></h2>
<p>Esistono alcuni tipi che, pi√π o meno universalmente, costituiscono i mattoncini base per tutti gli altri tipi nella programmazione. Questi tipi rappresentano delle caratteristiche base di ci√≤ che ci circonda.</p>
<p>Guardiamoci intorno. Io adesso sono ne salotto di casa mia. Cosa vedo? Cosa sento? Cosa percepisco? Vedo una libreria con un certo numero di libri dentro. Sento una musica a basso volume. Sento un po' caldo. Vedo una tastiera con tanti caratteri scritti sopra, ed uno schermo con tante parole. </p>
<p>I tipi fondamentali sono:</p>
<ul>
<li>numeri interi: per rappresentare qualcosa che nella nostra descrizione del mondo non pu√≤ essere diviso o non ci interessa che sia diviso. Ad esempio il numero di libri nella libreria.</li>
<li>numeri decimali: per rappresentare qualcosa che ha un valore continuo e divisibile. Ad esempio il volume della musica, la temperatura della stanza.</li>
<li>caratteri: per rappresentare un singolo carattere, numero o in generale simbolo. Ad esempio i singoli caratteri che vediamo sulla tastiera: <code>i</code>, <code>7</code>, <code>‚Ç¨</code>, etc.</li>
<li>stringhe: per rappresentare una sequenza di caratteri. Ad esempio una stringa pu√≤ essere una parola sullo schermo, o un'intera riga, o il titolo di un libro, etc.</li>
<li>boolean: per cose che possono essere solo vere o false. Ad esempio se la luce √® accesa o spenta.</li>
<li>liste (o array): per rappresentare un insieme di cose. Ad esempio la lista di tutti i libri che si trovano nella libreria.</li>
</ul>
<p>Di seguito un approfondimento su alcuni tipi sopra descritti.</p>
<h3 id="numeri-interi"><a class="header" href="#numeri-interi">Numeri interi</a></h3>
<p>In matematica, i <a href="https://it.wikipedia.org/wiki/Numero_intero">numero interi</a> possono essere o naturali (zero e i numeri positivi: 0,1,2,3,... ) e relativi (numeri naturali pi√π numeri negativi: ...,-3,-2,-1,0,1,2,3,...). Non c'√® un limite inferiore o superiore al valore che un certo numero pu√≤ assumere</p>
<p>In informatica, oltre a questo, dobbiamo fare i conti anche con le risorse finite della macchina su cui operiamo. Dobbiamo quindi sempre tener presente che un certo numero intero, occuper√† in base alla sua grandezza un certo numero di byte in memoria. Il numero di byte che tipicamente pu√≤ assumere un intero in memoria √®: 1 byte, 2 byte, 4 byte o 8 byte. Un intero di 8 byte √® sufficientemente enorme da rappresentare qualsiasi cosa, e di solito non ne servono di pi√π.</p>
<p>Riassumendo, bisogna avere in mente due cose quando parliamo di interi:</p>
<ul>
<li>se il numero sar√† sicuramente sempre positivo, o ha senso che possa essere negativo</li>
<li>quant'√® il valore massimo o minimo che nella pratica il numero pu√≤ avere, che determina il numero di byte da riservare in memoria.</li>
</ul>
<blockquote>
<p>In C/C++, il segno e la grandezza si dichiara esplicitamente. In Python, i numeri interi sono sempre con il segno ed il compilatore assegna automaticamente il numero di byte in base al valore.</p>
</blockquote>
<h3 id="numeri-decimali"><a class="header" href="#numeri-decimali">Numeri decimali</a></h3>
<p>I numeri decimali sono quelli con la virgola, e vengono detti anche numeri a virgola mobile, o <em>floating point numbers</em>.</p>
<p>I numeri decimali in informatica sono sempre con il segno. Anche in questo caso dobbiamo per√≤ decidere il numero di byte che occupa in memoria. Il numero di byte che pu√≤ assumere un numero decimale √®: 4 byte o 8 byte. Anche in questo caso, un numero decimale di 8 byte pu√≤ rappresentare bene praticamente qualsiasi cosa che conosciamo, e non servono pi√π byte.</p>
<p>Nei processori a 64bit, la dimensione tipica dei numeri decimali √® sempre 8 byte, che vengono detti anche <em>double precision floating point numbers</em>, o semplicemente <em>double</em>. Nei processori a 8, 16 o 32 bit, per motivi di performance di solito si assegnano 4 byte e solo in caso di necessit√† se ne assegnano 8.</p>
<blockquote>
<p>Come per gli interi, in C/C++ bisogna dichiarare esplicitamente se un float occupa 4 o 8 byte. In Python occupa sempre 8 byte.</p>
</blockquote>
<h3 id="caratteri-e-stringhe"><a class="header" href="#caratteri-e-stringhe">Caratteri e stringhe</a></h3>
<p>Per la rappresentazione dei caratteri bisogna fare pi√π attenzione rispetto a quella degli interi perch√© esistono tanti standard diversi che co-esistono tra di loro. Semplificando, attualmente esistono due standard principali:</p>
<ul>
<li><a href="https://it.wikipedia.org/wiki/ASCII">ASCII</a>: rappresenta i caratteri inglesi (senza accenti o altri segni diacritici), i numeri e alcuni simboli base come <code>@</code>, <code>!</code>, <code>#</code>,<code>5</code> e simili. Usa un byte di memoria e viene utilizzato in casi particolari o in vecchi sistemi</li>
<li><a href="https://it.wikipedia.org/wiki/UTF-8">UTF-8</a>: rappresenta i caratteri di tutte le lingue (italiano, spagnolo, cinese, indiano, sanscrito, greco antico, etc), i segni matematici, le emoji e tanti altri simboli. Usa un numero variabile di byte: per i caratteri pi√π comuni (essenzialmente quelli ASCII) usa un solo byte, in tutti gli altri casi usa due byte. Alcuni esempi di caratteri UTF-8 sono:,<code>·∫º</code>,<code>‚â¢</code>,<code>¬©</code>,<code>‚àÇ</code>,<code>üå∑</code>, etc.</li>
</ul>
<p>Nel linguaggio C, per rappresentare un singolo carattere si usa il singolo apice, ad esempio <code>'k'</code> √® il singolo carattere <code>k</code>; per rappresentare le stringhe si usa il doppio apice, ad esempio <code>&quot;hello&quot;</code> √® la stringa <code>hello</code>. In C l'espressione <code>'hello'</code> ritorna un errore.</p>
<p>In Python, non si pu√≤ rappresentare un singolo carattere, ma esistono solo stringhe. Per rappresentare le stringhe, si pu√≤ usare sia indifferentemente sia il singolo che il doppio apice, quindi le espressioni <code>&quot;hello&quot;</code> ed <code>'hello'</code> sono equivalenti.</p>
<blockquote>
<p>Come scegliere tra singolo e doppio apice? Dipende se all'interno della stringa che vogliamo rappresentare, ci sono degli apici. Se ci sono dei singoli apici all'interno, conviene usare i doppi apici per le stringhe, in modo che la stringa <code>&quot;l'alba √® meravigliosa&quot;</code> sia valida. Se invece all'interno della stringa abbiamo doppi apici, conviene usare esternamente i singoli apici, in modo che ad esempio <code>'&quot;Python&quot; √® bello'</code> sia una stringa valida. Se all'interno della nostra stringa ci sono sia singoli che doppi apici, dobbiamo usare il carattere di escape <code>\'</code> e <code>\&quot;</code>; ad esempio possiamo scrivere <code>'l\'alba √® &quot;meravigliosa&quot;</code> oppure `&quot;l'alba √® &quot;meravigliosa&quot;'. In caso di incertezza comunque, lo standard √® utilizzare il singolo apice.</p>
</blockquote>
<blockquote>
<p>In Python esistono anche altri modi di rappresentare le stringhe, lo vedremo pi√π avanti.</p>
</blockquote>
<h3 id="boolean"><a class="header" href="#boolean">Boolean</a></h3>
<p>Come abbiamo detto, un boolean rappresenta qualcosa che pu√≤ essere o  solo vero o solo falso. Una variabile boolean pu√≤ essere assegnata in uno dei seguenti modi:</p>
<ul>
<li>direttamente a vero o falso, ad esempio <code>a = True</code></li>
<li>come risultato di una operazione logica, ad esempio <code>a = 3 &gt; 2</code></li>
</ul>
<p>Attenzione a non abusare del tipo boolean: usarlo solo quando concettualmente nel nostro mondo non possono esserci altri valori o valori intermedi. Ad esempio immaginiamo che nel nostro mondo ci sono sedie rosse e gialle. Mettere una variabile boolean del tipo <code>is_red</code>, che mi dice se la sedia √® rossa, √® una pessima idea. Primo perch√© non √® chiaro cosa succede quando il valore √® falso e secondo perch√© se domani arrivano delle sedie blu, devo cambiare tutto il codice :(</p>
<blockquote>
<p>Uno dei punti su cui variano molto i diversi linguaggi √® come e se convertire altri tipi in boolean. Ad esempio, posso considerare il valore <code>0</code> come falso, ed <code>1</code> come vero? Posso dire che una lista vuota √® falsa, ed una lista non vuota √® vera? Oppure che una stringa vuota √® falsa, ed una stringa non vuota √® vera? Questo in informatica viene detto &quot;Truthy and Falsy&quot; del linguaggio. Per sapere cosa √® vero e falso in Python leggete <a href="https://docs.python.org/2.4/lib/truth.html">qui</a>, in C++ leggete <a href="https://www.geeksforgeeks.org/bool-data-type-in-c/">qui</a>.</p>
</blockquote>
<h3 id="liste-o-array"><a class="header" href="#liste-o-array">Liste (o array)</a></h3>
<p>In quanto esseri umani, una delle cose fondamentali che facciamo continuamente √® raggruppare insieme le intorno a noi che abbiano una qualche caratteristica in comune. Potrebbero essere un insieme di libri che si trovano sullo stesso scaffale, o tutta la frutta che abbiamo in casa, o gli articoli che si trovano nel magazzino. Questi insiemi sono rappresentati nei diversi linguaggi di programmazione in modo molto vario e con diversi nomi, ma quasi sempre sono un tipo base del linguaggio stesso.</p>
<p>Nonostante le diversit√†, una caratteristica comune di tutti i linguaggi √® che per definire e manipolare le liste si usano le parentesi quadre <code>[]</code>. Ad esempio, una lista di nomi si pu√≤ definire come <code>names = [&quot;John&quot;,&quot;Mario&quot;,Akira&quot;]</code>, e per leggere un elemento di una lista si usa ad esempio <code>names[1]</code>.</p>
<p>Attenzione: per convenzione, quasi tutti i linguaggi, inclusi C e Python, cominciano a contare da <code>0</code>, mentre noi nella vita quotidiana cominciamo da <code>1</code>. Nella pratica dell'informatica quindi, se una lista ha 3 elementi, il primo elemento della lista √® l'elemento <code>0</code>, e l'ultimo √® l'elemento <code>2</code>. Vedremo degli esempi in seguito.</p>
<p>Una nota sulla nomenclatura: il tipo base di lista in C si chiama <em>array</em>, mentre in Python si chiama <em>list</em>. Tecnicamente tra liste e array ci sono delle differenze, ma quello che interessa a noi in questo momento √® che in tutti i linguaggi esistono dei tipi base per rappresentare un insieme di oggetti con delle caratteristiche in comune.</p>
<h2 id="approfondimento-tipi-statici-dinamici-deboli-e-forti"><a class="header" href="#approfondimento-tipi-statici-dinamici-deboli-e-forti">Approfondimento: tipi statici, dinamici, deboli e forti</a></h2>
<p>La caratteristica che probabilmente differenzia maggiormente i vari linguaggi di programmazione tra di loro, √® come il linguaggio gestisce i tipi. Ci sono due assi su cui ci si pu√≤ muovere:</p>
<ul>
<li>static vs dynamic</li>
<li>weak vs strong</li>
</ul>
<p>L'argomento √® molto interessante ma anche altrettanto complesso, e richiede una buona conoscenza di come funziona la gestione della memoria, sia durante la compilazione che a runtime.</p>
<p>Questo piccolo paragrafo √® solo per mettervi un po' di curiosit√† e farvi capire che l'oceano √® grande :) Ne parleremo in modo pi√π approfondito l'anno prossimo :D</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="python"><a class="header" href="#python">Python</a></h1>
<p>Il linguaggio che vedremo quest'anno √® <a href="https://www.python.org/">Python</a>. Python √® un linguaggio completamente open-source, il codice sorgente √® reperibile sulla pagina <a href="https://github.com/python">ufficiale di GitHub</a> ed √® rilasciato sotto la <a href="https://opensource.org/licenses/Python-2.0">Python License</a>.</p>
<p style="margin:auto;width:500px">
<img class="right_side w20p" title="Python logo" alt="Python logo" src="02-prog/assets/python-logo.png" width=200>
<img class="left_side" title="Guido van Rossum" alt="Python logo" src="02-prog/assets/guido-van-rossum.jpg" width=200>
</p>
<p>Python √® stato creato alla fine degli anni '80 dall'olandese <a href="https://en.wikipedia.org/wiki/Guido_van_Rossum">Guido van Rossum</a>, all'et√† di circa trent'anni. Come molti colleghi nell'ambito informatico, il suo operato √® stato costantemente guidato da alcuni ideali, in particolare van Rossum credeva che la programmazione dovesse essere accessibile a tutti; le sue scelte per la sintassi del linguaggio hanno avuto sempre questa direzione. Nel 1999 sono state pubblicate delle linee guida che riassumevano questi concetti, conosciute come <a href="https://www.python.org/dev/peps/pep-0020/">&quot;The Zen of Python&quot;</a>.</p>
<blockquote>
<p>√à anche possibile leggere queste linee guida direttamente dentro Python, scrivendo <code>import this</code> :)</p>
</blockquote>
<blockquote>
<p>Se volete provare gli snippet di codice in questa pagina, potete usare il <a href="https://code.sololearn.com/#py">playground online</a> di SoloLearn.</p>
</blockquote>
<h2 id="caratteristiche"><a class="header" href="#caratteristiche">Caratteristiche</a></h2>
<p>Python ha una sintassi essenziale, eliminando quasi tutta la punteggiatura.</p>
<p>Esempio di un programma Python completo e valido:</p>
<pre><code class="language-py">catalogue = [&quot;Harry Potter e il calice di fuoco&quot;, &quot;Il rosso e il nero&quot;, &quot;Il piccolo principe&quot;]
for title in catalogue:
   print(title)
print(&quot;goodbye&quot;)
</code></pre>
<p>Nella prima riga, viene dichiarata una nuova variabile <code>catalogue</code>. Il tipo della variabile viene <em>inferito</em> dal valore assegnato; in questo caso, siccome assegniamo qualcosa che √® tra parentesi quadre, il tipo di <code>catalogue</code> √® una lista. Fate attenzione: la riga <em>non</em> finisce con il punto e virgola!</p>
<p>Nella seconda riga c'√® un ciclo <code>for</code>. Notate che non ci sono parentesi di nessun tipo, n√© tonde n√© graffe; attenzione per√≤ che la riga in questo caso finisce con i due punti Le stesse regole valgono anche per il condizionale <code>if</code>. </p>
<p>Ma se non ci sono parentesi graffe, come si fa a sapere dove finisce il contenuto del ciclo <code>for</code>? Qui c'√® la scelta un po' azzardata di van Rossum: usare l'indentazione del codice per definire dove finiscono i blocchi, ed obbligare lo sviluppatore ad usare le buone pratiche di indentazione. Una scelta che con il tempo tutto sommato ha ripagato!</p>
<p>Quindi vediamo che il contenuto del <code>for</code> √® solo <code>print(title)</code>, mentre la riga successiva, la quarta, √® fuori dal ciclo.</p>
<p>Se eseguiamo il codice, avremo il seguente output su console:</p>
<pre><code class="language-txt">Harry Potter e il calice di fuoco
Il rosso e il nero
Il piccolo principe
goodbye
</code></pre>
<h2 id="importare-una-libreria-esterna"><a class="header" href="#importare-una-libreria-esterna">Importare una libreria esterna</a></h2>
<p>Se ci servono delle librerie esterne per fare delle operazioni particolari, su usano le keyword <code>import</code> e <code>from</code>. Ad esempio immaginiamo di voler stampare la data e l'ora attuali. </p>
<pre><code class="language-py">from datetime import datetime
print(datetime.now())
</code></pre>
<p>che avr√† come output il giorno e l'ora attuali, ad esempio:</p>
<pre><code>2019-11-29 21:57:27.676783
</code></pre>
<p>In generale, dopo il <code>from</code> ci va il nome di un file Python (senza estensione), e dopo <code>import</code> il nome di una variabile. In questo esempio, nella prima riga importiamo la variabile <code>datetime</code> da un file che si chiama con lo stesso nome. Il file <code>datetime</code> nel caso specifico non √® creato da noi ma √® una libreria di sistema, ma possiamo usare la stessa sintassi anche per i nostri file.</p>
<h3 id="librerie-aggiuntive"><a class="header" href="#librerie-aggiuntive">Librerie aggiuntive</a></h3>
<p>Solo le librerie esterne pi√π comuni, come <code>datetime</code>, sono gi√† pre-installate in Python. Esistono infatti decine di migliaia di librerie, in continuo cambiamento, scaricarle tutte all'inizio sarebbe impossibile oltre che inutile! </p>
<p>Fortunatamente esiste un semplice comando per scaricare ed installare nuove librerie. Aprire un terminale sul proprio computer (anche all'interno di Visual Studio Code), e scrivere:</p>
<pre><code>pip3 install &lt;nome-libreria&gt;
</code></pre>
<p>Vediamo che <code>pip3</code> √® un comando che gestisce i pacchetti Python (Pip sta per &quot;Pip installs package&quot;, √® un acronimo ricorsivo), e <code>&lt;nome-libreria&gt;</code> √® il nome della libreria che vogliamo scaricare.</p>
<h2 id="riferimenti-w3schools"><a class="header" href="#riferimenti-w3schools">Riferimenti W3Schools</a></h2>
<p>Il sito w3schools √® un buon riferimento per imparare il Python. Consigliamo in particolare le seguenti pagine:</p>
<ul>
<li><a href="https://www.w3schools.com/python/python_datatypes.asp">Tipi base</a></li>
<li><a href="https://www.w3schools.com/python/python_lists.asp">Liste</a></li>
<li><a href="https://www.w3schools.com/python/python_for_loops.asp">For loop</a></li>
<li><a href="https://www.w3schools.com/python/python_functions.asp">Funzioni</a></li>
<li><a href="https://www.w3schools.com/python/python_classes.asp">Classi</a></li>
</ul>
<p>A breve ci serviranno anche i seguenti concetti:</p>
<ul>
<li><a href="https://www.w3schools.com/python/python_json.asp">JSON</a></li>
<li><a href="https://www.w3schools.com/python/python_pip.asp">PIP</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="come-usare-python"><a class="header" href="#come-usare-python">Come usare Python</a></h1>
<h2 id="usare-python-sul-server-della-scuola"><a class="header" href="#usare-python-sul-server-della-scuola">Usare Python sul server della scuola</a></h2>
<p>Per gli studenti del Marconi, √® possibile esercitarsi con Python senza installare nulla collegandosi direttamente al server della scuola.</p>
<p>Collegatevi via SSH o con l'estensione Remote SSH al server ed usate il comando <code>python3</code> per eseguire il vostro codice Python.</p>
<h2 id="usare-python-con-visual-studio-code-sul-proprio-computer"><a class="header" href="#usare-python-con-visual-studio-code-sul-proprio-computer">Usare Python con Visual Studio Code sul proprio computer</a></h2>
<h3 id="1-installare-python"><a class="header" href="#1-installare-python">1. Installare Python</a></h3>
<p>Per installare Python su Visual Studio Code, <a href="https://code.visualstudio.com/docs/python/python-tutorial">questa</a> √® la guida ufficiale. Riepiloghiamo in breve qui i passaggi.</p>
<p>Andare sul sito <a href="https://www.python.org/downloads/">Python downloads</a> e scaricare l'ultima versione di Python premendo il bottoncione giallo grande con scritto &quot;Download Python&quot;.</p>
<p>Quando lo avviate, vedrete una schermata di questo genere (la versione di Python potrebbe cambiare):</p>
<p class="img-container centered">
<img class="w80p" src="02-prog/assets/python-install.png" alt="Install Python">
</p>
<p>Attenzione: selezionate l'ultima spunta in basso &quot;Add Python to PATH&quot; per poter usare i comandi Python anche da terminale.</p>
<p>Seguite le istruzioni fino in fondo, e se necessario riavviate Visual Studio Code.</p>
<h3 id="2-installare-lestensione-per-visual-studio-code"><a class="header" href="#2-installare-lestensione-per-visual-studio-code">2. Installare l'estensione per Visual Studio Code</a></h3>
<p>Aprite Visual Studio Code ed installate l'estensione <a href="https://marketplace.visualstudio.com/items?itemName=ms-python.python">Python di Microsoft</a>. </p>
<p class="img-container centered">
<img class="w80p" src="02-prog/assets/python-extension.png" alt="Install Python extension">
</p>
<p>Una volta installata, quando aprirete un file con estensione <code>.py</code> vi comparir√† nella barra blu in basso la possibilit√† di selezionare l'interprete Python. Selezionate l'ultima versione che avete appena installato.</p>
<p class="img-container centered">
<img class="w50p" src="02-prog/assets/python-select-env.png" alt="Select Python Interpreter">
</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gioco-del-tris"><a class="header" href="#gioco-del-tris">Gioco del Tris</a></h1>
<p>Usiamo come caso di studio il gioco del tris (Tic Tac Toe, in inglese).</p>
<h2 id="creazione-della-board-di-gioco"><a class="header" href="#creazione-della-board-di-gioco">Creazione della board di gioco</a></h2>
<p>Il tabellone di gioco (board) del tris √® formato da 3 righe e 3 colonne. Possiamo rappresentarlo con una matrice 3x3. </p>
<p>In Python possiamo creare una matrice cos√¨:</p>
<pre><code class="language-py">board = [
          ['-','-','-'],
          ['-','-','-'],
          ['-','-','-']
        ]
</code></pre>
<p>Come vedete, nella dichiarazione della variabile non √® necessario specificare la dimensione, perch√© viene automaticamente inferita dal valore assegnato.</p>
<p>Per stampare a schermo lo stato del tabellone, possiamo scrivere un doppio ciclo che va da uno a tre:</p>
<pre><code class="language-py">    for i in range(3):
        for j in range(3):
            print(board[i][j], end=&quot; &quot;)
        print()
</code></pre>
<p>La funzione <code>range(n)</code> permette di iterare tra ed 0 e n-1; in questo caso quindi <code>i</code> e <code>j</code> assumeranno i valori da 0 a 2.</p>
<blockquote>
<p><code>range(n)</code> pu√≤ essere usato per iterare in molti altri modi, vedi <a href="https://docs.python.org/3/library/stdtypes.html#ranges">qui</a> per maggiori dettagli.</p>
</blockquote>
<p>Mettiamo questo doppio ciclo all'interno di una funzione, in modo da poterlo richiamare quando ci √® necessario.</p>
<pre><code class="language-py"># definisco la funzione
def mostra_tabellone():
    for i in range(3):
        for j in range(3):
            print(board[i][j], end=&quot; &quot;)
        print()

# richiamo la funzione
mostra_tabellone()
</code></pre>
<p>Notare come tutto quello che appartiene alla funzione √® indentato al suo interno, mentre ci√≤ che non ne fa parte non ha nessuna indentazione.</p>
<p>Ricordiamo anche che √® buona norma che le funzioni comincino con un verbo, in quanto rappresentano delle azioni.</p>
<h2 id="richiesta-di-un-valore-in-input"><a class="header" href="#richiesta-di-un-valore-in-input">Richiesta di un valore in input</a></h2>
<p>Per chiedere un valore in modo interattivo in input all'utente, si pu√≤ usare la funzione <code>input()</code>.</p>
<p>Ad esempio per chiedere la riga in cui inserire il proprio segno nel tabellone, potremmo scrivere:</p>
<pre><code class="language-py">r = input(&quot;Inserisci la riga (valori da 0 a 2): &quot;)
</code></pre>
<p>Attenzione per√≤: la funzione <code>input()</code> ritorna una stringa, mentre noi vorremmo avere un intero. Per convertire da stringa ad intero, possiamo usare la funzione <code>int()</code>:</p>
<pre><code class="language-py">r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
</code></pre>
<p>Analogamente per la colonna. Complessivamente:</p>
<pre><code class="language-py">r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
c = int(input(&quot;Inserisici la colonna (valori da 0 a 2): &quot;))
</code></pre>
<h2 id="inserire-i-simboli-nel-tabellone"><a class="header" href="#inserire-i-simboli-nel-tabellone">Inserire i simboli nel tabellone</a></h2>
<p>Per inserire il simbolo di un giocatore √® sufficiente assegnare il carattere nel giusto elemento della variabile tabellone:</p>
<pre><code class="language-py">board[r][c] = symbol
</code></pre>
<p>Vogliamo ripetere questa operazione finch√© il tabellone non √® pieno oppure finch√© qualcuno non ha vinto. Creiamo un ciclo viene essere eseguito 9 volte. </p>
<pre><code class="language-py">for idx in range(9):
    mostra_tabellone()

    r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
    c = int(input(&quot;Inserisici la colonna (valori da 0 a 2): &quot;))
    #  aggiungere anche condizione che r,c devono essere compresi tra 0 e 2
    if board[r][c]=='-':
        board[r][c] = 'O'
</code></pre>
<p>In questo modo per√≤ stiamo assegnando sempre il simbolo 'O' , che ovviamente non √® quello che vogliamo: vogliamo alternare i simboli 'X' e 'O'. Possiamo fare in modo che per <code>idx</code> pari mettiamo un simbolo, e per i dispari l'altro. Per fare questo possiamo creare una lista con i due simboli, ed assegnare il simbolo in base all'indice, come di seguito.</p>
<pre><code class="language-py">symList = ['X','O']

for idx in range(9):
    
    symbol = symList[idx%2]

    mostra_tabellone()

    print(&quot;Il tuo simbolo √®: &quot;+symbol)

    r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
    c = int(input(&quot;Inserisici la colonna (valori da 0 a 2): &quot;))
    #  aggiungere anche condizione che r,c devono essere compresi tra 0 e 2
    if board[r][c]=='-':
        board[r][c] = symbol
</code></pre>
<p>Abbiamo utilizzato l'operatore modulo (<code>%</code>), che ritorna il resto di una divisione; siccome stiamo dividendo per due, il resto potr√† essere solamente <code>0</code> o <code>1</code>, quindi non potr√† mai succedere che esco fuori dall'array <code>symList</code> che ha esattamente due elementi.</p>
<p>Con questa soluzione riusciamo ad evitare di inserire un <code>if</code>. In generale √® una buona regola di programmazione ridurre il numero di condizioni, sia perch√© di solito facilita la lettura (le condizioni sono spesso faticose da interpretare), sia perch√© il codice √® pi√π facile da testare. Ovviamente √® solo un suggerimento da usare in base al proprio giudizio, non un obbligo.</p>
<h2 id="controllo-dei-valori-di-ingresso"><a class="header" href="#controllo-dei-valori-di-ingresso">Controllo dei valori di ingresso</a></h2>
<p>√à importante controllare sempre i valori di ingresso forniti dall'utente, per rendere il codice pi√π robusto.</p>
<p>Per fare questo, ci serve un ciclo che chiede all'infinito i valori di input finch√© questi non sono corretti. Per uscire da un ciclo si usa la parola chiave <code>break</code>.</p>
<pre><code class="language-py"># while True esegue un ciclo infinito
while True:
        r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
        c = int(input(&quot;Inserisici la colonna (valori da 0 a 2): &quot;))
        #  aggiungere anche condizione che r,c devono essere compresi tra 0 e 2
        if board[r][c]=='-':
            board[r][c] = symbol
            # break esce dal ciclo
            break
</code></pre>
<h2 id="controllo-della-condizione-di-vittoria"><a class="header" href="#controllo-della-condizione-di-vittoria">Controllo della condizione di vittoria</a></h2>
<p>Creiamo una funzione che controlla se qualcuno ha vinto.</p>
<p>Vogliamo creare una funzione che ritorni <code>False</code> nel caso in cui nessuno ha vinto, altrimenti il simbolo del vincitore.</p>
<p>Esistono diversi modi per realizzare questa funzione. Qui ne presento una, ma ce ne sono molte altre altrettanto valide, anche senza usare cicli <code>for</code>.</p>
<pre><code class="language-py">def win(board):
    # ripete il controllo per ogni giocatore
    for sym in symList:
        # controlla se ci sono 3 simboli uguali in una riga
        for i in range(3):
            if board[i].count(sym)==3:
                return sym

        # controlla se ci sono 3 simboli uguali in una colonna
        for i in range(3):
            if (board[0][i]==sym and 
               board[1][i]==sym and
               board[2][i]==sym):
                return sym

        # controlla le due diagonali
        if (board[0][0]==sym and
           board[1][1]==sym and
           board[2][2]==sym):
            return sym
        if (board[0][2]==sym and
           board[1][1]==sym and
           board[2][0]==sym):
            return sym
    
    return False
</code></pre>
<h2 id="codice-finale"><a class="header" href="#codice-finale">Codice finale</a></h2>
<pre><code class="language-py">#!/usr/bin/env python3

print(&quot;Gioco del tic tac toe&quot;)

board = [
          ['-','-','-'],
          ['-','-','-'],
          ['-','-','-']
        ]

symList = ['X','O']

def mostra_tabellone():
    for i in range(3):
        for j in range(3):
            print(board[i][j], end=&quot; &quot;)
        print()

def win(board):
    for sym in symList:

        #check rows
        for i in range(3):
            if board[i].count(sym)==3:
                return sym

        #check columns
        for i in range(3):
            if (board[0][i]==sym and 
               board[1][i]==sym and
               board[2][i]==sym):
                return sym
        # check diagonals
        if (board[0][0]==sym and
           board[1][1]==sym and
           board[2][2]==sym):
            return sym
        if (board[0][2]==sym and
           board[1][1]==sym and
           board[2][0]==sym):
            return sym
    
    return False


winner=False

for idx in range(9):
    
    symbol = symList[idx%2]

    mostra_tabellone()

    print(&quot;Il tuo simbolo √®: &quot;+symbol)

    while True:
        r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
        c = int(input(&quot;Inserisici la colonna (valori da 0 a 2): &quot;))
        #  aggiungere anche condizione che r,c devono essere compresi tra 0 e 2
        if board[r][c]=='-':
            board[r][c] = symbol
            break
    winner=win()
    if winner:
        break
        

mostra_tabellone()
print(&quot;The winner is... &quot;+winner+&quot;!&quot;)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="test-del-gioco"><a class="header" href="#test-del-gioco">Test del gioco</a></h1>
<p>Prima di andare avanti, √® bene creare dei &quot;test&quot; che ci permettano di assicurarci che, qualsiasi modifica faremo in futuro al nostro codice, le funzionalit√† continueranno sempre ad essere corrette.</p>
<p>I test sono uno degli strumenti pi√π importanti nella cassetta degli sviluppatori per poter scrivere del buon codice .</p>
<h2 id="creazione-del-file-di-test"><a class="header" href="#creazione-del-file-di-test">Creazione del file di test</a></h2>
<p>Creiamo un nuovo file chiamato <code>test_tris.py</code>. In generale si usa la convenzione che il file di test ha lo stesso nome del file che deve testare, con il prefisso <code>test_</code>.</p>
<p>Come prima riga, importiamo la funzione che vogliamo testare.</p>
<pre><code class="language-py">from tris import win
</code></pre>
<p>Ricordiamo che dopo il <code>from</code> mettiamo il nome del file, senza <code>.py</code>, e dopo <code>import</code> i nomi delle funzioni o delle variabili che vogliamo importare.</p>
<p>Ora creiamo una funzione di test. Ogni funzione deve avere al suo interno l'istruzione <code>assert</code> con la condizione che si vuole verificare sia vera.</p>
<pre><code class="language-py">def test_win_1():
    board = [
              ['X','X','X'],
              ['-','O','O'],
              ['-','-','-']
            ]
    assert win(board) == 'X'
</code></pre>
<p>Se la verifica van a buon fine, la funzione assert non ritorna nulla; in caso contrario invece stampa un messaggio di errore.</p>
<p>Alla fine del file dobbiamo ricordarci di chiamare le funzioni di test.</p>
<pre><code class="language-py"># definisco tutte le funzioni...
 
test_win_1()
# ...chiamo tutte le funzioni di test...
</code></pre>
<h3 id="quanti-test-devo-effettuare"><a class="header" href="#quanti-test-devo-effettuare">Quanti test devo effettuare?</a></h3>
<p>&quot;Un programmatore entra in un pub ed ordina una birra, 2 birre, 10 birre, 1000 birre, 0 birre, -1 birra, asdasdqwe birre.&quot;</p>
<p>Questa √® una &quot;freddura&quot; nerd che fa capire come dovrebbero essere progettati i test. Bisogna verificare sia tutte le condizioni &quot;normali&quot;, che ci si aspetta dall'utente o dal regolare funzionamento del programma, sia cercare di immaginarsi tutte le cose che potrebbero andare storte.</p>
<p>Nel nostro caso dobbiamo prevedere:</p>
<ul>
<li>8 test per la vittoria di 'X' (3 righe, 3 colonne, 2 diagonali)</li>
<li>8 test per la vittoria di 'O'</li>
<li>un certo numero di test per le situazioni di non vittoria (il gioco continua)</li>
</ul>
<h2 id="adattamento-del-file-apppy"><a class="header" href="#adattamento-del-file-apppy">Adattamento del file app.py</a></h2>
<p>Quando importiamo la funzione <code>win</code>, l'interprete di Python esegue tutto il file &quot;tris.py&quot;, compresa la parte finale in cui chiede l'input dei giocatori. Non √® per√≤ quello che vogliamo quando importiamo un file come libreria.</p>
<p>Per risolvere questo problema, Python mette a disposizione la variabile di ambiente <code>__name__</code> che assume un valore diverso in base a come √® invocato il file. Per <strong>variabile di ambiente</strong> si intende una variabile che non √® creata o assegnata direttamente da noi, ma √® gestita dall'interprete o dal sistema operativo. In Python queste variabili hanno sempre un doppio trattino basso come prefisso e per questo sono anche chiamate <em>dunder variables</em> (abbreviazione di <em>double under score variables</em>), oppure <em>magic variables</em>.</p>
<p>In particolare, la variabile <code>__name__</code> assume il valore: </p>
<ul>
<li>la stringa <code>&quot;__main__&quot;</code> se il file √® chiamato direttamente </li>
<li>il nome del modulo in cui si trova, che di default √® uguale al nome del file</li>
</ul>
<p>In altre parole, per non eseguire del codice quando il file viene importato come libreria, dobbiamo aggiungere la condizione:</p>
<pre><code class="language-py">if __name__ == &quot;__main__&quot;:
  # codice da eseguire solo quando il file √® chiamato direttamente da riga di comando (python3 tris.py)
</code></pre>
<h2 id="versione-del-codice-con-test"><a class="header" href="#versione-del-codice-con-test">Versione del codice con test</a></h2>
<p>Potete trovare la versione completa del codice <a href="https://github.com/wbigger/2021-tris/tree/v1.0-CLI">qui</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="web"><a class="header" href="#web">Web</a></h1>
<p>Nel 1989 al CERN di Ginevra, in Svizzera, un laureato in fisica con la borsa di studio trovava estremamente frustrante dover andare a cercare le informazioni che gli servivano per le sue ricerche sui vari computer dell'istituto, il pi√π grande del mondo per la fisica delle particelle. Questo ricercatore si immaginava di avere una pagina con delle parole cliccabili che rimandavano a delle risorse o ad altre pagine: sarebbe stato comodissimo! Il ricercatore si chiamava <a href="https://it.wikipedia.org/wiki/Tim_Berners-Lee">Tim Berners-Lee</a>.</p>
<p align="center">
<img title="Tim Berners Lee" src='./assets/berners.jpg' width='70%' style="padding: 50px 0 30px 0;">
</p>
<p>Tim diede a queste pagine immaginarie il nome di <em>ipertesto</em> (HyperText). Scrisse un articolo su questa idea, ed il suo capo gli permise di lavorarci per un piccolo progetto collaterale. √à nato in questo modo, quasi per caso, il <em>World Wide Web</em> che conosciamo oggi, chiamato anche pi√π semplicemente il <em>Web</em>.</p>
<blockquote>
<p><em>Web</em> in inglese significa propriamente <em>ragnatela</em>, mentre <em>rete</em> si traduce con <em>net</em>. Tuttavia, di solito Web si traduce in italiano con il termine pi√π generico di rete.</p>
</blockquote>
<p>Gli ingredienti che Tim Berners-Lee ha inventato e messo a punto per il suo progetto sono:</p>
<ul>
<li>un linguaggio per scrivere le pagine web, utilizzando dei marcatori, che ha chiamato HyperText Markup Language (HTML, in italiano si potrebbe tradurre con &quot;linguaggio con marcatori per ipertesti&quot;);</li>
<li>un modo per identificare in maniera univoca una risorsa, che ha chiamato <em>Uniform Resource Locator</em> (<em>URL</em>);</li>
<li>un protocollo per trasmettere gli ipertesti, che ha chiamato <em>HyperText Transfer Protocol</em> (<em>HTTP</em>)</li>
</ul>
<p>Tutte queste cose nel tempo sono diventate uno standard e le impareremo a conoscere nel dettaglio.</p>
<blockquote>
<p>L'associazione che si occupa di standardizzare tutti gli aspetti del web si chiama <a href="https://www.w3.org/">World Wide Web Consortium</a>, abbreviato con <em>w3c</em>. Il w3c √® stato fondato da Tim Berners-Lee, che ne √® ancora il presidente.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="modello-client-server"><a class="header" href="#modello-client-server">Modello client-server</a></h1>
<p>Prima di passare a vedere nel dettaglio le tecnologie web, vediamo il paradigma su cui si basa il web stesso: il modello client-server.</p>
<p>Nel web, si distinguono nettamente due diverse macchine:</p>
<ul>
<li>il client, che invia la richiesta e visualizza una pagina web</li>
<li>il server, che riceve le richieste e fornisce le pagine web da visualizzare</li>
</ul>
<p align="center">
<img title="prompt" src='./assets/client-server.png' width='70%' style="padding: 50px 0 30px 0;">
</p>
<h2 id="client"><a class="header" href="#client">Client</a></h2>
<p>Il client √® una qualsiasi macchina che visualizza le pagine web, ad esempio:</p>
<ul>
<li>un computer desktop</li>
<li>uno smartphone</li>
<li>uno smartwatch</li>
<li>una smartTV</li>
<li>...</li>
</ul>
<p>Il programma che visualizza le pagine web viene normalmente chiamato <em>browser</em>.</p>
<p>Esistono tanti browser differenti, ma quasi tutti sono delle varianti di questi tre:</p>
<ul>
<li>Chrome/Chromium, da cui deriva ad esempio Edge e Safari</li>
<li>Firefox</li>
<li>Opera</li>
</ul>
<p>Nel browser possiamo usare solo HTML, CSS e JavaScript per le nostre pagine.</p>
<h2 id="server"><a class="header" href="#server">Server</a></h2>
<p>Il server ha il compito di gestire le richieste dei client.</p>
<p>Client e server, nel mondo web, comunicano tramite il protocollo <em>HTTP</em>. L'applicazione software all'interno del server che ha il compito specifico di riceve le chiamate HTTP, passarle ad un'altra applicazione, ricevere la risposta da questa applicazione e ritornare una risposta HTTP al client viene chiamata <em>web server</em>. Ad esempio, un web server molto comune in Python √® <em>Flask</em>.</p>
<p>Sul server abbiamo una maggiore libert√† di scelta delle tecnologie da usare rispetto al client. Possiamo usare una vasta gamma di linguaggi di programmazione tra cui PHP, Java, Python, C++, Rust, etc.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="url"><a class="header" href="#url">URL</a></h1>
<p>L'URL (Uniform Resource Locator) √® uno dei mattoncini base del web e serve per identificare in maniera univoca una risorsa all'interno del web stesso. Volendo fare un paragone, √® l'equivalente dell'IP per Internet.</p>
<p>Una risorsa pu√≤ essere teoricamente qualsiasi cosa, ma tipicamente √® una delle seguenti:</p>
<ul>
<li>una pagina web (.html)</li>
<li>un file (es. immagine, audio)</li>
<li>una risorsa all'interno di un database</li>
</ul>
<h2 id="sintassi"><a class="header" href="#sintassi">Sintassi</a></h2>
<p>Un URL ha la seguente sintassi:</p>
<p><code>protocol://host/path?query#fragment</code></p>
<p>Vediamo di seguito in dettaglio ogni parte.</p>
<h3 id="protocol"><a class="header" href="#protocol">Protocol</a></h3>
<p>I protocolli che usiamo solitamente sono:</p>
<ul>
<li>http (porta 80, da usare con cautela perch√© non sicuro)</li>
<li>https (porta 443)</li>
</ul>
<p>Altri protocolli molto usati sono:</p>
<ul>
<li>ftp per trasferire i file (porta 21)</li>
<li>ssh per aprire una sessione remota (porta 22)</li>
</ul>
<h3 id="host"><a class="header" href="#host">Host</a></h3>
<p>L'<em>host</em> √® la macchina su cui si trova la risorsa. Pu√≤ essere:</p>
<ul>
<li>un indirizzo IP (IPv4 o IPv6)</li>
<li>un nome di dominio (es. www.google.com)</li>
</ul>
<p>Per maggiori informazioni su come viene mappato un indirizzo IP ad un nome di dominio, rimando a <a href="https://wbigger.github.io/book-tpsi-5y/04-deploy/04-domains.html">questa pagina</a>.</p>
<h3 id="path"><a class="header" href="#path">Path</a></h3>
<p>Il <em>path</em> (percorso) individua la risorsa all'interno dell'host. Pu√≤ essere il path di un file all'interno della macchina, oppure un percorso generico che viene <em>instradato</em> (<em>routed</em>) dal web server verso una specifica funzione che si occuper√† di gestire la richiesta.</p>
<h3 id="query"><a class="header" href="#query">Query</a></h3>
<p>La <em>query</em> (interrogazione) serve per specificare meglio la risorsa richiesta.</p>
<p>Ad esempio, se la risorsa √® la lista dei prodotto di abbigliamento di un certo ecommerce, attraverso una query posso chiedere di visualizzare solo i prodotti con un certo prezzo, o solo i primi 10 prodotti, etc.</p>
<h3 id="fragment"><a class="header" href="#fragment">Fragment</a></h3>
<p>Un <em>fragment</em> (frammento) individua una porzione della risorsa restituita.</p>
<p>Per le pagine web, ad esempio, ogni id crea un nuovo fragment. Posso quindi saltare ad un certo punto di una pagina specificando l'id al termine dell'URL, come in <a href="03-web/./02-url.html#sintassi">questo</a> caso.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="http"><a class="header" href="#http">HTTP</a></h1>
<p>L'HTTP (HyperText Transfer Protocol) √® il principale protocollo a livello applicativo (livello 7 ISO/OSI) che si usa per il web. Le specifiche sono gestite direttamente dal w3c.</p>
<p>L'HTTP si fonda su un'architettura di tipo client-server. Il <em>client</em> per definizione √® <em>la macchina che effettua la richiesta</em>, mentre il <em>server</em> √® <em>la macchina che gestisce la richiesta e fornisce una risposta</em>.</p>
<blockquote>
<p>Una stessa macchina, in momenti diversi, si pu√≤ comportare sia da client che da server.</p>
</blockquote>
<p>Il protocollo HTTP prevede quindi due messaggi: la richiesta (<em>request</em>, da client a server) e la risposta (<em>response</em>, da server a client).</p>
<object data="assets/http-arrows.html" style="width:100%;"> 
    Your browser doesn‚Äôt support the object tag. 
</object>
<p>L'HTTP di default comunica attraverso la porta 80. Quando usiamo un browser senza specificare la porta, il browser stesso aggiunge automaticamente questa porta di default per noi.</p>
<h2 id="versione-sicura"><a class="header" href="#versione-sicura">Versione sicura</a></h2>
<p>L'HTTP trasmette l'intestazione ed il corpo del messaggio in chiaro, cio√® in modo non criptato, ponendo dei problemi sia di sicurezza quando si scambiano delle credenziali, sia di privacy, in quanto un qualsiasi utente che si pone in ascolto del nostro traffico (detto anche <em>man-in-the-middle</em>) ha libero accesso al conenuto di tutti i messaggi inviati e ricevuti.</p>
<p>Per ovviare a questo problema, √® nato il protocollo HTTPS (<em>HTTP Secure</em>), che utilizza un layer di cifratura di tipo SSL/TLS per criptare la comunicazione. </p>
<p>NOTA: l'HTTPS nasconde il contenuto del messaggio (intestazione e corpo), ma il destinatario (IP o nome di dominio), quindi un man-in-the-middle pu√≤ comunque sapere verso quali siti stiamo navigando. Per aumentare la privacy, √® in fase di fase di approvazione il protocollo <em>DNS over HTTPS</em> (abbreviato in DoH) per criptare anche la comunicazione tra il browser ed il server DNS.</p>
<p>L'HTTPs di default comunica attraverso la porta 443.</p>
<h2 id="sessioni-e-cookies"><a class="header" href="#sessioni-e-cookies">Sessioni e cookies</a></h2>
<p>L'HTTP √® un protocollo senza stato (&quot;stateless&quot;), cio√© a livello di protocollo ogni richiesta √® del tutto indipendente dalla precedente. Come pu√≤ fare quindi il server a sapere che pi√π richieste provengono dalla stessa macchina, ad esempio per mantenere lo stato del carrello? In altre parole, come fanno client e server a mantenere una <em>sessione</em> persistente tra pi√π messaggi HTTP?</p>
<p>Per fare questo, si utilizza in generale la strategia dei <em>cookies</em> (biscotti). Client e server concordano una stringa casuale che verr√† trasmessa nell'header di tutte le richieste HTTP, in modo che il server possa tenere traccia delle varie richieste.</p>
<p>Ovviamente, se qualcuno venisse a conoscenza dei nostri cookies, li potrebbe utilizzare per violare la nostra privacy o per truffarci. √à quindi importante che i cookies siano adeguatamente protetti in tutta lo loro vita:</p>
<ul>
<li>il browser deve assicurare che solo il sito che ha generato il cookie pu√≤ accederci e nessun altro</li>
<li>deve essere usato il protocollo HTTPS, per criptare l'intestazione della richiesta che contiene il cookie stesso</li>
</ul>
<h2 id="request"><a class="header" href="#request">Request</a></h2>
<p>Una richiesta HTTP √® formata da:</p>
<ul>
<li>una linea di richiesta (<em>request line</em>), dove viene specificato il metodo, l'URL di destinazione ed il protocollo richiesto (in genere HTTP/1.1)</li>
</ul>
<pre><code>GET /image/logo.png HTTP/1.1
</code></pre>
<blockquote>
<p>In questo esempio, nella linea di richiesta ho solo la parte dell'URL che segue il dominio, in quanto l'host viene specificato successivamente nell'intestazione.</p>
</blockquote>
<ul>
<li>un'intestazione (<em>header</em>), formata da una serie di campi (<em>fields</em>), con la sintassi <code>nome:valore</code></li>
</ul>
<pre><code>Host:www.example.com
Accept-language:en
</code></pre>
<ul>
<li>opzionalmente il corpo del messaggio (<em>message body</em>)</li>
</ul>
<h3 id="metodi-http"><a class="header" href="#metodi-http">Metodi HTTP</a></h3>
<p>I metodi HTTP sono una parte fondamentale del protocollo, indicano l'azione desiderata del client riguardo la risorsa specificata nell'URL.</p>
<p>Questo argomento merita una pagina a parte, trovate tutti i dettagli <a href="03-web/./03-http-rest.html">qui</a>.</p>
<h3 id="request-header-fields"><a class="header" href="#request-header-fields">Request header fields</a></h3>
<p>I pi√π comuni campi dell'intestazione della richiesta sono:</p>
<ul>
<li><code>Host</code>: l'unico campo obbligatorio da HTTP/1.1, con l'IP o il dominio che identifica il server di destinazione</li>
<li><code>User-agent</code>: specifica il browser utilizzato dal client, ad esempio nel mio caso √® <code>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36</code></li>
<li><code>Accept-language</code>: specifica in quale lingua il client si aspetta la risposta</li>
<li><code>Cookie</code>: una stringa che identifica il <em>cookie</em> per mantenere lo stato tra client e server, come abbiamo visto in precedenza</li>
</ul>
<p>Per una lista completa, potete consultare il <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">sito ufficiale</a> del w3c oppure su <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Request_fields">wikipedia</a>.</p>
<h2 id="response"><a class="header" href="#response">Response</a></h2>
<p>Una risposta HTTP √® formata da:</p>
<ul>
<li>una linea di stato (<em>status line</em>), che contiene la versione del protocollo di risposta, lo status code e opzionalmente una frase di risposta:</li>
</ul>
<pre><code>HTTP/1.1 200 OK
</code></pre>
<ul>
<li>un'intestazione (<em>header</em>), formata da una serie di campi (<em>fields</em>), con la sintassi <code>nome:valore</code>, come nel caso della richiesta</li>
</ul>
<pre><code>Content-Type: text/html
</code></pre>
<blockquote>
<p>Nota: i campi delle intestazioni di richiesta e risposta non sono tutti uguali, alcuni sono validi solo per le domande, alcuni solo per le risposte, alcuni per entrambi.</p>
</blockquote>
<ul>
<li>opzionalmente il corpo del messaggio (<em>message body</em>)</li>
</ul>
<h3 id="request-header-fields-1"><a class="header" href="#request-header-fields-1">Request header fields</a></h3>
<p>I pi√π comuni campi dell'intestazione della richiesta sono:</p>
<ul>
<li><code>Date</code>: specifica la data della risposta</li>
<li><code>Content-Lenght</code>: specifica la dimensione in byte del body</li>
<li><code>Content-Type</code>: specifica il <a href="https://en.wikipedia.org/wiki/Media_type#Common_examples_%5B10%5D">Media-Type</a> del body, i pi√π comuni sono:
<ul>
<li><code>text/html</code> per le pagine HTML</li>
<li><code>application/json</code> per i messaggi JSON</li>
<li><code>application/pdf</code> per un file PDF</li>
<li><code>image/png</code> o <code>image/jpeg</code> per le immagini</li>
<li><code>video/mp4</code> e <code>video/ogg</code> per i video</li>
<li><code>audio/mpeg</code> e <code>audio/ogg</code> per l'audio</li>
</ul>
</li>
</ul>
<p>La lista completa dei possibili Media-Type la trovate <a href="https://www.iana.org/assignments/media-types/media-types.xhtml">qui</a>.</p>
<h3 id="status-codes"><a class="header" href="#status-codes">Status codes</a></h3>
<p>Il dato pi√π importante in una risposta HTTP √® il <em>codice di stato</em> (status code), che identifica se la richiesta √® andata a buon fine ed in caso negativo qual √® stato il problema.</p>
<p>I codici di stato sono divisi in 5 categorie:</p>
<ul>
<li>1xx informational ‚Äì richiesta ricevuta, continua l'elaborazione.</li>
<li>2xx successful ‚Äì l'azione √® stata ricevuta con successo, compresa ed accettata.</li>
<li>3xx redirection ‚Äì il client deve eseguire ulteriori azioni per soddisfare la richiesta.</li>
<li>4xx client error ‚Äì la richiesta √® sintatticamente scorretta o non pu√≤ essere soddisfatta.</li>
<li>5xx server error ‚Äì il server ha fallito nel soddisfare una richiesta apparentemente valida.</li>
</ul>
<p>Per una lista completa degli status codes, vi consiglio di consultare la pagina ufficiale di <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status">MDN Web Docs</a>. </p>
<p>Di seguito alcuni dei codici pi√π comuni che abbiamo visto a lezione.</p>
<h4 id="2xx-successful"><a class="header" href="#2xx-successful">2xx successful</a></h4>
<p>200: OK. Risposta standard per le richieste HTTP andate a buon fine.</p>
<p>201: Created. La richiesta √® stata soddisfatta, restituendo la creazione di una nuova risorsa.</p>
<h4 id="4xx-client-error"><a class="header" href="#4xx-client-error">4xx client error</a></h4>
<p>400: Bad Request. La richiesta non pu√≤ essere soddisfatta a causa di errori di sintassi.</p>
<p>403: Forbidden. La richiesta √® legittima ma il server si rifiuta di soddisfarla.</p>
<p>404:Not Found. La risorsa richiesta non √® stata trovata ma in futuro potrebbe essere disponibile.</p>
<p>429: Too many requests. Il client ha effettuato troppe richieste in un intervallo di tempo ridotto.</p>
<h4 id="5xx-server-error"><a class="header" href="#5xx-server-error">5xx server error</a></h4>
<p>500: Internal Server Error. Messaggio di errore generico senza alcun dettaglio.</p>
<p>501: Not Implemented. Il server non √® in grado di soddisfare il metodo della richiesta.</p>
<p>504: Gateway Timeout. Il server si sta comportando come un gateway o un proxy e non ha ricevuto una risposta tempestiva dal server di upstream.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="metodi-http-ed-architettura-rest"><a class="header" href="#metodi-http-ed-architettura-rest">Metodi HTTP ed architettura REST</a></h1>
<p>Come sappiamo, tutto il web si basa sul concetto di risorsa. In HTTP, per manipolare una risorsa usiamo i <em>metodi</em>, per questo √® di particolare importanza capire bene cosa sono e come si usano.</p>
<p>Quando interagiamo con un qualsiasi risorsa, i diversi comandi che possiamo usare per manipolarla rientrano all'interno delle operazioni cosiddette <strong>CRUD</strong>: <strong>C</strong>reate, <strong>R</strong>ead, <strong>U</strong>pdate e <strong>D</strong>elete.</p>
<p>Di seguito una semplice tabellina che fa un paragone tra metodi HTTP e database SQL, che pu√≤ esservi utile anche l'anno prossimo.</p>
<table><thead><tr><th>Operazione</th><th>SQL</th><th>HTTP/REST</th></tr></thead><tbody>
<tr><td>Create</td><td>INSERT</td><td>POST (o PUT)</td></tr>
<tr><td>Read</td><td>SELECT</td><td>GET</td></tr>
<tr><td>Update</td><td>UPDATE</td><td>PUT / PATCH</td></tr>
<tr><td>Delete</td><td>DELETE</td><td>DELETE</td></tr>
</tbody></table>
<h2 id="get-selezione-della-risorsa"><a class="header" href="#get-selezione-della-risorsa">GET: selezione della risorsa</a></h2>
<p>Per leggere il valore di una risorsa, usiamo l'URL della risorsa stessa ed effettuiamo la richiesta HTTP con il metodo <code>GET</code>. Ci si aspetta che lo stato della risorsa non cambi a seguito di questa chiamata.</p>
<h2 id="post-e-put-creazione-e-modifica-di-una-risorsa"><a class="header" href="#post-e-put-creazione-e-modifica-di-una-risorsa">POST e PUT: creazione e modifica di una risorsa</a></h2>
<p>Per creare una nuova risorsa si usa il metodo <code>POST</code>, specificando nel corpo i dati per la creazione della risorsa stessa. A seguito di una chiamata con successo di questo metodo, il server ritorna l'ID univoco della risorsa appena creata.</p>
<p>Nota: in alcuni casi si utilizza anche il metodo <code>PUT</code> per creare una nuova risorsa. Si utilizza questa strategia quando l'ID della risorsa viene fornita dal client e non deve essere generata dal server. Di solito in questo caso se la risorsa non esiste viene creata, mentre se esiste viene sovrascritta.</p>
<p>Nei casi di incertezza, le specifiche HTTP ci ricordano che una differenza sostanziale tra <code>POST</code> e <code>PUT</code> √® l'idempotenza, come spiegato di seguito.</p>
<h3 id="idempotenza"><a class="header" href="#idempotenza">Idempotenza</a></h3>
<p>Per capire bene la differenza tra <code>POST</code> e <code>PUT</code>, dobbiamo introdurre il concetto di idempotenza. Un comando √® <em>idempotente</em> quando <em>&quot;richieste ripetute identiche devono portare al medesimo stato dei dati sul server&quot;</em>. </p>
<p>Per le chiamate HTTP:</p>
<ul>
<li>
<p><code>GET</code> √® idempotente: facendo pi√π richieste identiche, la risorsa √® immutata ed ottengo sempre la stessa risposta</p>
</li>
<li>
<p><code>PUT</code> √® idempotente: facendo pi√π richieste identiche, il DB viene modificato solo la prima volta</p>
</li>
<li>
<p><code>POST</code> non √® idempotente: facendo pi√π richieste identiche, ad ogni chiamata verr√† aggiunta una nuova risorsa e creato un nuovo ID per noi</p>
</li>
</ul>
<p>Nella pratica, questo significa che quando uso <code>PUT</code> devo passare anche l'ID dell'elemento da creare o aggiornare, mentre con <code>POST</code> non devo fornire l'ID, perch√© verr√† creata dal server.</p>
<p>Approfondimento sul concetto di idempotenza <a href="http://blog.loris.tissino.it/2013/06/http-rest-e-api.html">qui</a>.</p>
<h2 id="update-modifica-parziale-di-una-risorsa"><a class="header" href="#update-modifica-parziale-di-una-risorsa">UPDATE: modifica parziale di una risorsa</a></h2>
<p>Con il metodo <code>UPDATE</code> √® possibile aggiornare solo parte di una risorsa, senza doverla sovrascrivere interamente.</p>
<h2 id="delete-cancellazione-di-una-risorsa"><a class="header" href="#delete-cancellazione-di-una-risorsa">DELETE: cancellazione di una risorsa</a></h2>
<p>Il metodo <code>DELETE</code> permette di cancellare la o le riorse specificate.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="il-formato-json"><a class="header" href="#il-formato-json">Il formato JSON</a></h1>
<p><a href="https://www.json.org/">JSON</a> √® un formato usato principalmente per scambiarsi dati tra macchine (machine-to-machine), ma che pu√≤ essere letto e scritto abbastanza facilmente anche dagli esseri umani. JSON quindi non √® un codice, o un'applicazione, o una libreria, ma √® un <em>formato di stringa</em> (ovvero una <em>notazione</em>) che permette alle macchine di comunicare fra loro in modo comprensibile. Volendo fare un paragone con la lingua umana, √® come la sintassi della frase: per capirsi le persone devono mettere nel corretto ordine soggetto, verbo e complementi, altrimenti non ci si capisce.</p>
<p>JSON usa le seguenti convenzioni:</p>
<ul>
<li>i numeri devono essere scritti cos√¨ come sono (es. <code>12</code>)</li>
<li>i doppi apici per definire le stringhe (es. <code>&quot;hello&quot;</code>)</li>
<li>le parentesi quadre per le liste (es. <code>[...]</code>)</li>
<li>la virgola per separare gli elementi di una lista</li>
<li>le parentesi graffe per definire gli oggetti (es. <code>{...}</code>)</li>
<li>i due punti per definire le propriet√† di un oggetto</li>
<li>le propriet√† di un oggetto sono separati tra loro da una virgola</li>
</ul>
<p>Ad esempio, per definire una lista di due oggetti, ognuno con le propriet√† <code>title</code> e <code>author</code>, scriveremo:</p>
<pre><code class="language-json">[
    {
        &quot;title&quot;:&quot;Harry Potter e il calice di fuoco&quot;,
        &quot;author&quot;:&quot;J.K.Rowling&quot;
    },
    {
        &quot;title&quot;:&quot;Il rosso e il nero&quot;,
        &quot;author&quot;:&quot;Stendhal&quot;
    },
    {
        &quot;title&quot;:&quot;Il piccolo principe&quot;,
        &quot;author&quot;:&quot;Antoine de Saint-Exup√©ry&quot;
    }
]
</code></pre>
<p>Per generare o validare stringhe JSON, √® possibile usare servizi online come ad esempio <a href="https://jsonlint.com/?json=%5B%7B%22title%22:%22Harry%20Potter%20e%20il%20calice%20di%20fuoco%22,%22author%22:%22J.K.Rowling%22%7D,%7B%22title%22:%22Il%20rosso%20e%20il%20nero%22,%22author%22:%22Stendhal%22%7D,%7B%22title%22:%22Il%20piccolo%20principe%22,%22author%22:%22Antoine%20de%20Saint-Exup%C3%A9ry%22%7D%5D">JSON lint</a>.</p>
<h1 id="approfondimenti"><a class="header" href="#approfondimenti">Approfondimenti</a></h1>
<p>Per gli interessati, consiglio questo video su Youtube su <a href="https://www.youtube.com/watch?v=-C-JoyNuQJs">com'√® nato il formato JSON</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="confronto-con-il-formato-xml"><a class="header" href="#confronto-con-il-formato-xml">Confronto con il formato XML</a></h1>
<p>Un altro formato molto usato per lo scambio di dati √® l'XML, anche se i due formati hanno campi di azione un po' diversi.</p>
<p>XML √® l'acronimo di <em>eXtensible Markup Language</em>, ed √® un <em>metalinguaggio</em> che serve sia per creare linguaggi di markup, sia per trasmettere dati.</p>
<p>Noi ci occuperemo solo di questo secondo uso, per confrontarlo con JSON.</p>
<p>Un esempio di XML valido √® il seguente:</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;root&gt;
    &lt;studenti&gt;
        &lt;studente&gt;
            &lt;nome&gt;Maria&lt;/nome&gt;
            &lt;cognome&gt;Rossi&lt;/cognome&gt;
            &lt;eta&gt;18&lt;/eta&gt;
        &lt;/studente&gt;
        &lt;studente&gt;
            &lt;nome&gt;Marco&lt;/nome&gt;
            &lt;cognome&gt;Neri&lt;/cognome&gt;
            &lt;eta&gt;17&lt;/eta&gt;
        &lt;/studente&gt;
    &lt;/studenti&gt;
&lt;/root&gt;
</code></pre>
<p>L'equivalente in JSON ha il seguente formato:</p>
<pre><code class="language-JSON">{&quot;studente&quot;:[
  { &quot;nome&quot;:&quot;Maria&quot;, &quot;cognome&quot;:&quot;Rossi&quot;, &quot;eta&quot;:18 },
  { &quot;nome&quot;:&quot;Marco&quot;, &quot;cognome&quot;:&quot;Neri&quot;, &quot;eta&quot;:17 }
]}
</code></pre>
<p>Come si pu√≤ facilmente vedere, il formato JSON √® molto pi√π compatto e c'√® una netta distinzione sintattica tra tipi di dati, come ad esempio l'array o il numero. In XML, infatti, non c'√® una sintassi specifica per dire che <code>studenti</code> √® un array o <code>eta</code> √® un numero. Per aggiungere queste informazioni √® necessario aggiungere degli attributi o definire un ulteriore file, detto <a href="https://www.w3schools.com/xml/schema_simple.asp"><em>schema</em></a>.</p>
<p>√à possibile passare da XML e JSON in modo pi√π o meno automatico usando dei convertitori, ad esempio <a href="https://codebeautify.org/jsontoxml">questo</a>.</p>
<h2 id="somiglianze-tra-xml-e-json"><a class="header" href="#somiglianze-tra-xml-e-json">Somiglianze tra XML e JSON</a></h2>
<ul>
<li>entrambi sono gerarchici</li>
<li>entrambi sono leggibili da essere umano</li>
<li>entrambi sono facilmente interpretabili da una macchina (<em>parsing</em>)</li>
<li>entrambi sono standard web che possono essere usati in JavaScript</li>
</ul>
<h2 id="differenze-tra-xml-e-json"><a class="header" href="#differenze-tra-xml-e-json">Differenze tra XML e JSON</a></h2>
<ul>
<li>JSON non ha bisogno di tag di chiusura</li>
<li>JSON usa meno caratteri</li>
<li>JSON √® pi√π veloce da leggere e scrivere su JavaScript</li>
<li>JSON pu√≤ usare gli array</li>
<li>XML ha la possibilit√† di specificare propriet√† attraverso attributi e schemi</li>
<li>XML pu√≤ essere usato per creare nuovi linguaggi di markup</li>
</ul>
<blockquote>
<p>Nota: se necessario, in realt√† anche JSON ha la possibilit√† di definire dei propri schemi usando i <a href="https://json-schema.org/">JSON Schema</a></p>
</blockquote>
<h1 id="uso-di-xml"><a class="header" href="#uso-di-xml">Uso di XML</a></h1>
<p>Sebbene sul web ormai si usi quasi esclusivamente il formato JSON, uno dei casi in cui vengono molto usati gli schemi XML √® nello sviluppo Android, in cui tutte le pagine di un'applicazione sono definite tramite XML.</p>
<p>Nota: nonostante la somiglianza sintattica, HTML non √® un istanza di uno schema XML. </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
