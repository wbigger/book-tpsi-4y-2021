<!DOCTYPE HTML>
<html lang="it" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>TPSI - Quarto anno - 2021</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Materiale di supporto alle lezioni.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="chapter_1.html"><strong aria-hidden="true">1.</strong> Kernel&amp;Shell</a></li><li class="chapter-item expanded "><a href="chapter_2.html"><strong aria-hidden="true">2.</strong> Comandi</a></li><li class="chapter-item expanded "><a href="01-base/index.html"><strong aria-hidden="true">3.</strong> Programmazione</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="01-base/02-python.html"><strong aria-hidden="true">3.1.</strong> Python</a></li><li class="chapter-item expanded "><a href="01-base/02-1-python-install.html"><strong aria-hidden="true">3.2.</strong> Installazione di Python</a></li><li class="chapter-item expanded "><a href="01-base/03-webapp.html"><strong aria-hidden="true">3.3.</strong> Web app</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">TPSI - Quarto anno - 2021</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/wbigger/book-tpsi-4y-2021.git" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="organizzazione-di-un-sistema-operativo"><a class="header" href="#organizzazione-di-un-sistema-operativo">Organizzazione di un sistema operativo</a></h1>
<p>Il sistema operativo gestisce le risorse della macchina (memoria, processore, periferiche) per permettere a più applicazioni di poter funzionare contemporaneamente. Ma ogni cosa ha un suo costo: il sistema operativo utilizza per sé stesso una porzione a volte considerevole delle risorse stesse del nostro computer: pensiamo a quanti GB sul disco occupa una installazione di Windows o Mac, a quanta memoria occupa, e che ha volte i loro processi impegnano la CPU senza una ragione apparente. Oltre a questo pensiamo a problemi di vulnerabilità, aggiornamento, etc.</p>
<blockquote>
<p>Se noi vogliamo far girare un solo programma sul computer, possiamo non aver bisogno di un sistema operativo. Tipicamente quest accade per piccoli elaboratori per compiti molto specifici: questo sistemi vengono chiamati <em>embedded</em>.</p>
</blockquote>
<p>Il sistema operativo è una componente software molto complessa: per poter essere gestita in maniera ottimale, è stata divisa in sotto-componenti. Di seguito vediamo i principali.</p>
<h1 id="kernel"><a class="header" href="#kernel">Kernel</a></h1>
<p>Per rappresentare i componenti del sistema operativo, si usa spesso la metafora delle sfere concentriche, in cui al centro di tutto c'è l'hardware.</p>
<p align="center">
<img title="shell-kernel" src='./assets/shell-kernel.png' width='70%' style="padding: 50px 0 30px 0;">
</p>
<p>Il programma che è più vicino all'hardware viene chiamato <strong>kernel</strong>. Noi ci occuperemo in particolare del kernel <strong>Linux</strong>, un kernel open-source.</p>
<blockquote>
<p>Il kernel Linux è stato creato nel 1991 dal finlandese Linus Torvalds ed è distribuito attraverso la licenza di software libero GNU GPLv2. Questa licenza è stata ideata da Richard Stallman (dell'MIT di Boston) per tutelare il software &quot;libero&quot; (in inglese free software, in cui la parola free ha il significato di libero come in &quot;free as in speech&quot;).</p>
</blockquote>
<p>Il kernel si occupa di mediare l'accesso delle applicazioni alle risorse del computer:</p>
<ul>
<li>central processing unit (CPU)</li>
<li>memoria volatile (RAM)</li>
<li>periferiche di input/output (hard disk, tastiera, mouse, stampanti, etc.)</li>
</ul>
<p>Il kernel è un programma come gli altri, non ha niente di &quot;magico&quot;. In particolare il kernel è un insieme di librerie scritte principalmente in C/C++. Del kernel Linux possiamo anche vederne il <a href="https://github.com/torvalds/linux">codice sorgente</a>, visto che è un software libero e quindi anche aperto.</p>
<h1 id="shell"><a class="header" href="#shell">Shell</a></h1>
<p>Per usare direttamente il kernel dovremmo scrivere dei programmi in C/C++, ad esempio per interrogare l'hard-disk e farci restituire i file all'interno di una certa cartella. Scrivere un programma noi per ogni operazione che dobbiamo svolgere, ovviamente non è molto comodo.</p>
<p>Per poter usare in maniera le chiamate di sistema che ci mette a disposizione il kernel, ci sono una serie di strumenti che ci facilitano i compito. Per Linux, queste utilità sono state sviluppate dal <a href="www.gnu.org">progetto GNU</a>, e si chiamano <strong>GNU coreutils</strong>.</p>
<blockquote>
<p>Il progetto GNU è stato fondato nel 1983 da Richard Stallman, al MIT di Boston. GNU ha lo scopo in primo luogo di permettere agli sviluppatori di tutto il mondo di poter sviluppare <em>liberamente</em> software, ovvero avendo a disposizione il codice sorgente dei programmi di altre aziende che usano, e senza la necessità di pagare licenze. Le utilità che useremo in questo corso sono solo parte del progetto; un'altra parte fondamentale è la licenza che permette al software di essere usato legalmente, rispettando le libertà fondamentali del free software. Il nome di questa licenza è GPL (General Public Licence), di cui l'ultima versione è la <a href="https://www.gnu.org/licenses/gpl.html">GPLv3</a> <p align="center"><a href='https://www.gnu.org/licenses/gpl.html'><img src='./assets/gpl.png' width='200px'></a></p></p>
</blockquote>
<p>Anche in questo caso possiamo andare a cercare il <a href="http://git.savannah.gnu.org/cgit/coreutils.git">codice sorgente</a>.</p>
<h1 id="terminale"><a class="header" href="#terminale">Terminale</a></h1>
<p>Per poter interagire con la shell, abbiamo bisogno di un'applicazione specifica che ci permetta di farlo. Quest'applicazione si chiama &quot;terminale&quot;.</p>
<p align="center">
<img title="shell-kernel" src='./assets/terminal.png' width='70%' style="padding: 50px 0 30px 0;">
</p>
<p>Nell'immagine vedete l'applicazione &quot;iTerm2&quot;, molto usata in ambito Apple come terminale.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="comandi"><a class="header" href="#comandi">Comandi</a></h1>
<h2 id="echo"><a class="header" href="#echo">echo</a></h2>
<p>Ritorna un'&quot;eco&quot; del suo argomento sul terminale.</p>
<pre><code class="language-sh">$ echo ciao
ciao
</code></pre>
<h2 id="touch"><a class="header" href="#touch">touch</a></h2>
<p>Crea un file o, se già esiste, ne aggiorna la data di ultima modifica.</p>
<pre><code class="language-sh">$ touch ciao
</code></pre>
<h2 id="cat"><a class="header" href="#cat">cat</a></h2>
<p>Abbreviazione di &quot;concatenate&quot;, mostra il contenuto di un file.</p>
<pre><code class="language-sh">$ cat ciao
</code></pre>
<h2 id="redirect"><a class="header" href="#redirect">Redirect</a></h2>
<p>Il carattere <code>&gt;</code> redirige l'output di un comando verso un file, invece del terminale. Se il file non esiste, viene creato. Se il file esiste, viene sovrascritto.</p>
<pre><code class="language-sh">$ echo &quot;buongiorno&quot; &gt; buongiorno.txt
</code></pre>
<p>Se si vuole aggiungere il testo alla fine del file senza sovrascriverlo, si può usare il <code>&gt;&gt;</code>.</p>
<pre><code class="language-sh">$ echo &quot;buongiorno&quot; &gt;&gt; buongiorno.txt
$ cat buongiorno.txt
buongiorno
buongiorno
</code></pre>
<h2 id="ls"><a class="header" href="#ls">ls</a></h2>
<p>Elenca i file nella cartella corrente</p>
<pre><code class="language-sh">$ ls
buongiorno.txt	ciao
</code></pre>
<p>L'opzione <code>-l</code> mostra i dettagli del file.</p>
<pre><code class="language-sh">$ ls -l
total 8
-rw-r--r--  1 claudio  staff   11 Oct 12 07:03 buongiorno.txt
-rw-r--r--  1 claudio  staff    0 Oct 12 07:00 ciao
</code></pre>
<p>Aggiungendo anche l'opzione <code>-h</code> mostra i dettagli del file in un formato più leggibile per l'essere umano (&quot;human&quot;). Notare la B alla fine della quinta colonna, che sta per &quot;Byte&quot;.</p>
<pre><code class="language-sh">$ ls -lh
total 8
total 8
-rw-r--r--  1 claudio  staff    11B Oct 12 07:03 buongiorno.txt
-rw-r--r--  1 claudio  staff     0B Oct 12 07:00 ciao
</code></pre>
<p>Un'altra opzione utile è <code>-a</code>, per visualizzare anche i file nascosti. Su linux, un file è nascosto semplicemente se inizia con il carattere punto (<code>.</code>).</p>
<pre><code class="language-sh">$ ls -lha
total 8
drwxr-xr-x  4 claudio  staff   128B Oct 12 07:03 .
drwxr-xr-x  4 claudio  staff   128B Oct 12 07:00 ..
-rw-r--r--  1 claudio  staff    11B Oct 12 07:03 buongiorno.txt
-rw-r--r--  1 claudio  staff     0B Oct 12 07:00 ciao
</code></pre>
<h2 id="pwd"><a class="header" href="#pwd">pwd</a></h2>
<p>Abbreviazione di Print Working Directory, visualizza la directory corrente.</p>
<pre><code class="language-sh">$ pwd
/Users/claudio/try/bash
</code></pre>
<h2 id="mkdir"><a class="header" href="#mkdir">mkdir</a></h2>
<p>Abbreviazione di &quot;make directory&quot;, crea una nuova cartella.</p>
<pre><code class="language-sh">$ mkdir food
$ ls -l
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
</code></pre>
<p>Si può capire che è una cartella perché il primo carattere nella riga di &quot;food&quot; è una <code>d</code> che sta appunto per &quot;directory&quot;. I file hanno invece un trattino. Alcuni terminali mostrano le cartelle anche con un colore diverso.</p>
<h2 id="cd"><a class="header" href="#cd">cd</a></h2>
<p>Abbreviazione di &quot;change directory&quot;, permette di spostarsi tra cartelle.</p>
<pre><code class="language-sh">$ cd food
$ pwd
/Users/claudio/try/bash/food
</code></pre>
<p>Usando <code>cd</code> senza argomenti, torno alla &quot;home directory&quot;, che viene anche rappresentata con il simbolo <code>~</code> (si legge tilde).</p>
<pre><code class="language-sh">$ cd
$ pwd
/Users/claudio/
$ cd ~ # comando equivalente al precedente
$ pwd
/Users/claudio/
</code></pre>
<p>Per tornare alla directory precedente, si può usare il simbolo <code>-</code> (trattino).</p>
<pre><code class="language-sh">$ cd -
$ pwd
/Users/claudio/try/bash/food
</code></pre>
<p>Per salire di una directory si può usare il doppio punto.</p>
<pre><code class="language-sh">$ cd ..
$ pwd
/Users/claudio/try/bash
</code></pre>
<h2 id="cp"><a class="header" href="#cp">cp</a></h2>
<p>Copia un file, abbreviazione di copy.</p>
<pre><code class="language-sh">$ cp ciao hello
$ ls
total 8
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
-rw-r--r--  1 claudio  staff   0 Oct 12 07:20 hello
</code></pre>
<h2 id="mv"><a class="header" href="#mv">mv</a></h2>
<p>Sposta un file da una cartella ad un'altra. Se la cartella di partenza e destinazione coincidono, semplicemente rinomina il file.</p>
<pre><code class="language-sh">$ mv hello hola
$ ls
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
-rw-r--r--  1 claudio  staff   0 Oct 12 07:20 hola
</code></pre>
<h2 id="rm"><a class="header" href="#rm">rm</a></h2>
<p>Elimina un file, abbreviazione di remove.</p>
<pre><code class="language-sh">$ rm hola
$ ls
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
</code></pre>
<h2 id="top"><a class="header" href="#top">top</a></h2>
<p>Visualizza i processi attualmente in esecuzione nella macchina.</p>
<pre><code class="language-sh">$ top
</code></pre>
<p>Viene visualizzata una tabella a schermo intero. Per uscire, premere la combinazione di tasti <code>ctrl-c</code></p>
<h2 id="kill"><a class="header" href="#kill">kill</a></h2>
<p>Termina (uccide) un processo in esecuzione. Come argomento deve avere il numero del processo (PID - process ID) che viene visualizzato ad esempio con top.</p>
<pre><code class="language-sh">$ kill 11459 # termina il processo con PID 11459
</code></pre>
<h2 id="yes"><a class="header" href="#yes">yes</a></h2>
<p>Stampa su terminale una stringa all'infinito. Di default stampa 'y' ma si può personalizzare passandogli un argomento.</p>
<pre><code class="language-sh">$ yes marconi
marconi
marconi
marconi
....
</code></pre>
<p>Anche in questo caso uscire con <code>ctrl-c</code></p>
<h2 id="devnull"><a class="header" href="#devnull">/dev/null</a></h2>
<p>Un file speciale all'interno del file system linux che è un pozzo senza fondo.</p>
<pre><code class="language-sh">$ yes &gt; /dev/null ## l'output di yes viene sostanzialmente scartato
</code></pre>
<h2 id="ctrl-c"><a class="header" href="#ctrl-c">ctrl-c</a></h2>
<p>Termina (uccide) il processo corrente.</p>
<h2 id="ctrl-z"><a class="header" href="#ctrl-z">ctrl-z</a></h2>
<p>Sospende il processo corrente. Per rimetterlo in esecuzione, si possono usare i comandi <code>bg</code> o <code>fg</code></p>
<h2 id="jobs"><a class="header" href="#jobs">jobs</a></h2>
<p>Visualizza i lavori in esecuzione. Un &quot;lavoro&quot; è un processo (o più precisamente può essere un insieme di processi) che è stato lanciato dalla shell corrente. </p>
<pre><code class="language-sh">$ yes uno &gt; /dev/null
# ctrl-z
suspended  yes uno &gt; /dev/null
$ yes due &gt; /dev/null
# ctrl-z
suspended  yes due &gt; /dev/null
$ yes tre &gt; /dev/null
# ctrl-z
suspended  yes tre &gt; /dev/null
$ jobs
[1]    suspended  yes uno &gt; /dev/null
[2]  - suspended  yes due &gt; /dev/null
[3]  + suspended  yes tre &gt; /dev/null
</code></pre>
<p>Per riprendere un lavoro e portarlo in &quot;foreground&quot;, ovvero accessibile dalla shell, si usa <code>fg</code>. Se uso <code>fg</code> senza argomenti, mette in foreground il lavoro contrassegnato dal +.</p>
<p>Per riprendere un lavoro e portarlo in &quot;background&quot;, ovvero <em>non</em> accessibile dalla shell, si usa <code>bg</code>.</p>
<p>Per terminare un lavoro, posso usare sempre <code>kill</code>, ma l'argomento deve avere il simbolo %.</p>
<pre><code class="language-sh">$ kill %2
[2]  - terminated  yes due &gt; /dev/null
$ jobs
[1]  - suspended  yes uno &gt; /dev/null
[3]  + suspended  yes tre &gt; /dev/null
</code></pre>
<h2 id="variabili-di-ambiente"><a class="header" href="#variabili-di-ambiente">Variabili di ambiente</a></h2>
<p>Ogni terminale usa delle variabili che sono definite automaticamente quando viene aperto. Queste variabili vengono dette <em>variabili di ambiente</em>. Per visualizzarle si può usare il comando <code>env</code>.</p>
<pre><code class="language-sh">$ env
TERM_SESSION_ID=w1t0p0:3B371076-0F20-4C26-ACD4-4656F13F9AEA
SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.P5eh4I2m5h/Listeners
LC_TERMINAL_VERSION=3.4.10
COLORFGBG=7;0
......continua.......
</code></pre>
<p>Per visualizzare una sola variabile, si può usare <code>echo</code> e la variabile deve essere preceduta dal carattere dollaro.</p>
<pre><code class="language-sh">$ echo $SHELL
/bin/bash
</code></pre>
<p>Per assegnare una variabile, si può usare il comando <code>export</code>.</p>
<pre><code class="language-sh">$ export PS1=&quot;test&gt;&quot;
</code></pre>
<p>Di seguito alcune variabili di ambiente che abbiamo visto:</p>
<ul>
<li>$TERM: quale standard rispetta l'applicazione terminale in uso, di solito è <code>xterm</code> o <code>xterm-256color</code></li>
<li>$SHELL: quale shell sto utilizzando, su Ubuntu di default è bash (quella sviluppata da GNU)</li>
<li>$PS1: il prompt dei comandi, ovvero tutto quello che c'è prima del dollaro (dollaro compreso), solitamente include la directory corrente ed il nome utente</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="premessa-concetti-base-di-programmazione"><a class="header" href="#premessa-concetti-base-di-programmazione">Premessa: concetti base di programmazione</a></h1>
<p>Quando vogliamo imparare a programmare, in qualsiasi linguaggio, ci troviamo di fronte ad una pagina vuota.</p>
<p>Cosa dobbiamo fare? Cosa dobbiamo scrivere in questa pagina che ci si presenta davanti?</p>
<p>Quello che facciamo quando scriviamo un programma è qualcosa di fortemente creativo: non andremo solo a scrivere del codice che esegue istruzioni, ma andremo a creare un mondo nuovo, in cui ci potremo muovere ed agire con i concetti e le relazioni che avremo definito noi stessi.</p>
<p>Scrivere codice è come scrivere un romanzo o dipingere su una tela. Le nostre penne e pennelli sono tastiera e mouse, e la tela è lo schermo. Quello che andremo a realizzare però sarà qualcosa che non solo <em>rappresenta</em> la realtà, ma andrà anche ad <em>interagire</em> con essa, e in un medio periodo può anche modificarla ed a sua volta esserne modificato. In altre parole il codice è una cosa viva, in continua evoluzione, la cui capacità di replicazione e mutazione (soprattutto per il codice open-source) lo rende vicino per certi versi ad un essere vivente.</p>
<h2 id="un-programmatore-è-un-bravo-osservatore"><a class="header" href="#un-programmatore-è-un-bravo-osservatore">Un programmatore è un bravo osservatore</a></h2>
<p>Un programmatore è un informatico ed il compito principale di un informatico è... risolvere problemi. Per poter risolvere un problema, però, bisogna prima capire <em>qual è</em> il problema, <em>chi</em> ha il problema e <em>perché</em>. Per poter fare questo, un programmatore deve essere un bravo osservatore della realtà. Più importante del QI o della genialità, è la capacità di saper osservare il mondo, ascoltare le persone, immedesimarsi negli altri e saper trasformare tutto questo in righe di codice che funzionino.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="python"><a class="header" href="#python">Python</a></h1>
<p class="img-container">
<img class="right_side w20p" title="Python logo" alt="Python logo" src="01-base/assets/python-logo.png">
<p>Il linguaggio che vedremo quest'anno è <a href="https://www.python.org/">Python</a>. Python è un linguaggio completamente open-source, il codice sorgente è reperibile sulla pagina <a href="https://github.com/python">ufficiale di GitHub</a> ed è rilasciato sotto la <a href="https://opensource.org/licenses/Python-2.0">Python License</a>.</p>
<p class="img-container w20p">
<img class="left_side" title="Guido van Rossum" alt="Python logo" src="01-base/assets/guido-van-rossum.jpg">
<p>Python è stato creato alla fine degli anni '80 dall'olandese <a href="https://en.wikipedia.org/wiki/Guido_van_Rossum">Guido van Rossum</a>, all'età di circa trent'anni. Come molti colleghi nell'ambito informatico, il suo operato è stato costantemente guidato da alcuni ideali, in particolare van Rossum credeva che la programmazione dovesse essere accessibile a tutti; le sue scelte per la sintassi del linguaggio hanno avuto sempre questa direzione. Nel 1999 sono state pubblicate delle linee guida che riassumevano questi concetti, conosciute come <a href="https://www.python.org/dev/peps/pep-0020/">&quot;The Zen of Python&quot;</a>.</p>
<blockquote>
<p>È anche possibile leggere queste linee guida direttamente dentro Python, scrivendo <code>import this</code> :)</p>
</blockquote>
<blockquote>
<p>Se volete provare gli snippet di codice in questa pagina, potete usare il <a href="https://code.sololearn.com/#py">playground online</a> di SoloLearn.</p>
</blockquote>
<h2 id="caratteristiche"><a class="header" href="#caratteristiche">Caratteristiche</a></h2>
<p>Python ha una sintassi essenziale, eliminando quasi tutta la punteggiatura.</p>
<p>Esempio di un programma Python completo e valido:</p>
<pre><code class="language-py">catalogue = [&quot;Harry Potter e il calice di fuoco&quot;, &quot;Il rosso e il nero&quot;, &quot;Il piccolo principe&quot;]
for title in catalogue:
   print(title)
print(&quot;goodbye&quot;)
</code></pre>
<p>Nella prima riga, viene dichiarata una nuova variabile <code>catalogue</code>. Il tipo della variabile viene <em>inferito</em> dal valore assegnato; in questo caso, siccome assegniamo qualcosa che è tra parentesi quadre, il tipo di <code>catalogue</code> è una lista. Fate attenzione: la riga <em>non</em> finisce con il punto e virgola!</p>
<p>Nella seconda riga c'è un ciclo <code>for</code>. Notate che non ci sono parentesi di nessun tipo, né tonde né graffe; attenzione però che la riga in questo caso finisce con i due punti Le stesse regole valgono anche per il condizionale <code>if</code>. </p>
<p>Ma se non ci sono parentesi graffe, come si fa a sapere dove finisce il contenuto del ciclo <code>for</code>? Qui c'è la scelta un po' azzardata di van Rossum: usare l'indentazione del codice per definire dove finiscono i blocchi, ed obbligare lo sviluppatore ad usare le buone pratiche di indentazione. Una scelta che con il tempo tutto sommato ha ripagato!</p>
<p>Quindi vediamo che il contenuto del <code>for</code> è solo <code>print(title)</code>, mentre la riga successiva, la quarta, è fuori dal ciclo.</p>
<p>Se eseguiamo il codice, avremo il seguente output su console:</p>
<pre><code class="language-txt">Harry Potter e il calice di fuoco
Il rosso e il nero
Il piccolo principe
goodbye
</code></pre>
<h2 id="importare-una-libreria-esterna"><a class="header" href="#importare-una-libreria-esterna">Importare una libreria esterna</a></h2>
<p>Se ci servono delle librerie esterne per fare delle operazioni particolari, su usano le keyword <code>import</code> e <code>from</code>. Ad esempio immaginiamo di voler stampare la data e l'ora attuali. </p>
<pre><code class="language-py">from datetime import datetime
print(datetime.now())
</code></pre>
<p>che avrà come output il giorno e l'ora attuali, ad esempio:</p>
<pre><code>2019-11-29 21:57:27.676783
</code></pre>
<p>In generale, dopo il <code>from</code> ci va il nome di un file Python (senza estensione), e dopo <code>import</code> il nome di una variabile. In questo esempio, nella prima riga importiamo la variabile <code>datetime</code> da un file che si chiama con lo stesso nome. Il file <code>datetime</code> nel caso specifico non è creato da noi ma è una libreria di sistema, ma possiamo usare la stessa sintassi anche per i nostri file.</p>
<h2 id="creare-una-classe"><a class="header" href="#creare-una-classe">Creare una classe</a></h2>
<p>Per creare una classe, ad esempio la classe <code>Book</code>, si usa la seguente sintassi:</p>
<pre><code class="language-py">class Book:
   def __init__(self,title,author):
      self.title = title
      self.author = author
</code></pre>
<p>Vediamo bene cosa abbiamo fatto. La prima riga <code>class Book</code> dichiara la classe Book. Nella seconda riga stiamo usando la funzione di sistema <code>__init__(self,...)</code> che è il <em>costruttore</em> della classe, ovvero serve per costruire un nuovo <em>oggetto</em> della classe. Il primo parametro è sempre la keyword <code>self</code>, che identifica l'oggetto che stiamo andando a creare. I parametri successivi servono per inizializzare l'oggetto; nel nostro caso stiamo dicendo che il nostro libro deve sempre avere un autore ed un titolo.</p>
<blockquote>
<p>Si può vedere che <strong>init</strong> è una funzione di sistema perché il nome inizia e finisce con due trattini bassi. Questa è una convenzione specifica di Python.</p>
</blockquote>
<p>Per creare un oggetto di questa classe, usiamo la seguente sintassi:</p>
<pre><code class="language-py">harry_potter = Book(&quot;Harry Potter ed il principe mezzosangue&quot;,&quot;J.K.Rowling&quot;)

print(harry_potter.title)
</code></pre>
<p>Stiamo dichiarando una variabile chiamata <code>harry_potter</code> che è un oggetto della classe <code>Book</code>, inizializzata con i parametri che seguono. Fate attenzione: <em>non</em> bisogna specificare il parametro <code>self</code> quando si costruisce un oggetto, perché è una variabile che passa Python automaticamente alla funzione <code>__init__</code>.</p>
<p>Mettendo insieme i pezzi, il codice finale per creare una classe ed un oggetto di questa classe sarà:</p>
<pre><code class="language-py">class Book:
   def __init__(self,title,author):
      self.title = title
      self.author = author
   
harry_potter = Book(&quot;Harry Potter ed il principe mezzosangue&quot;,&quot;J.K.Rowling&quot;)

print(harry_potter.title)
</code></pre>
<p>L'output di questo snippet sarà:</p>
<pre><code>Harry Potter ed il principe mezzosangue
</code></pre>
<p>Notate l'indentazione: si può capire che la variabile <code>harry_potter</code> viene dichiarata <em>fuori</em> dalla classe perché non ha indentazione.</p>
<h3 id="librerie-aggiuntive"><a class="header" href="#librerie-aggiuntive">Librerie aggiuntive</a></h3>
<p>Solo le librerie esterne più comuni, come <code>datetime</code>, sono già pre-installate in Python. Esistono infatti decine di migliaia di librerie, in continuo cambiamento, scaricarle tutte all'inizio sarebbe impossibile oltre che inutile! </p>
<p>Fortunatamente esiste un semplice comando per scaricare ed installare nuove librerie. Aprire un terminale sul proprio computer (anche all'interno di Visual Studio Code), e scrivere:</p>
<pre><code>pip3 install &lt;nome-libreria&gt;
</code></pre>
<p>Vediamo che <code>pip3</code> è un comando che gestisce i pacchetti Python (Pip sta per &quot;Pip installs package&quot;, è un acronimo ricorsivo), e <code>&lt;nome-libreria&gt;</code> è il nome della libreria che vogliamo scaricare.</p>
<h2 id="riferimenti-w3schools"><a class="header" href="#riferimenti-w3schools">Riferimenti W3Schools</a></h2>
<p>Il sito w3schools è un buon riferimento per imparare il Python. Consigliamo in particolare le seguenti pagine:</p>
<ul>
<li><a href="https://www.w3schools.com/python/python_datatypes.asp">Tipi base</a></li>
<li><a href="https://www.w3schools.com/python/python_lists.asp">Liste</a></li>
<li><a href="https://www.w3schools.com/python/python_for_loops.asp">For loop</a></li>
<li><a href="https://www.w3schools.com/python/python_functions.asp">Funzioni</a></li>
<li><a href="https://www.w3schools.com/python/python_classes.asp">Classi</a></li>
</ul>
<p>A breve ci serviranno anche i seguenti concetti:</p>
<ul>
<li><a href="https://www.w3schools.com/python/python_json.asp">JSON</a></li>
<li><a href="https://www.w3schools.com/python/python_pip.asp">PIP</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installare-python"><a class="header" href="#installare-python">Installare Python</a></h1>
<p>Per installare Python su Visual Studio Code, <a href="https://code.visualstudio.com/docs/python/python-tutorial">questa</a> è la guida ufficiale. Riepiloghiamo in breve qui i passaggi.</p>
<h2 id="1-installare-python-sul-proprio-computer"><a class="header" href="#1-installare-python-sul-proprio-computer">1. Installare Python sul proprio computer</a></h2>
<p>Andare sul sito <a href="https://www.python.org/downloads/">Python downloads</a> e scaricare l'ultima versione di Python premendo il bottoncione giallo grande con scritto &quot;Download Python&quot;.</p>
<p>Quando lo avviate, vedrete una schermata di questo genere (la versione di Python potrebbe cambiare):</p>
<p class="img-container centered">
<img class="w80p" src="01-base/assets/python-install.png" alt="Install Python">
</p>
<p>Attenzione: selezionate l'ultima spunta in basso &quot;Add Python to PATH&quot; per poter usare i comandi Python anche da terminale.</p>
<p>Seguite le istruzioni fino in fondo, e se necessario riavviate Visual Studio Code.</p>
<h2 id="2-installare-lestensione-per-visual-studio-code"><a class="header" href="#2-installare-lestensione-per-visual-studio-code">2. Installare l'estensione per Visual Studio Code</a></h2>
<p>Aprite Visual Studio Code ed installate l'estensione <a href="https://marketplace.visualstudio.com/items?itemName=ms-python.python">Python di Microsoft</a>. </p>
<p class="img-container centered">
<img class="w80p" src="01-base/assets/python-extension.png" alt="Install Python extension">
</p>
<p>Una volta installata, quando aprirete un file con estensione <code>.py</code> vi comparirà nella barra blu in basso la possibilità di selezionare l'interprete Python. Selezionate l'ultima versione che avete appena installato.</p>
<p class="img-container centered">
<img class="w50p" src="01-base/assets/python-select-env.png" alt="Select Python Interpreter">
</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creare-una-web-app-con-html5-e-python"><a class="header" href="#creare-una-web-app-con-html5-e-python">Creare una web app con HTML5 e Python</a></h1>
<p>Vorrei collegarmi subito a quello che state studiando in TPSI quest'anno e creare una semplicissima applicazione con HTML e Python.</p>
<h2 id="caso-di-studio"><a class="header" href="#caso-di-studio">Caso di studio</a></h2>
<p>Immaginiamo di voler gestire una biblioteca scolastica. Da un lato ci serve del codice che gira da qualche parte nel cloud che gestisce la biblioteca, ed una pagina web per poter visualizzare la lista dei libri.</p>
<p>Useremo Python per la prima parte (server), e HTML per la seconda parte (pagina web).</p>
<svg height='140' width='100%'>
<rect width='40%' height='100%' style='fill:rgb(0,0,0);stroke-width:3;stroke:rgb(0,0,0)'/>
<text x="15%" y="50%" font-size="30" text-anchor="middle" fill="white">
   HTML
   </text>
<rect width='40%' height='100%' style='fill:rgb(0,255,0);stroke-width:3;stroke:rgb(0,0,0)' x="60%"/>
<text x="75%" y="50%" font-size="30" text-anchor="middle" fill="white">
   Python
   </text>
</svg>
<h2 id="python-1"><a class="header" href="#python-1">Python</a></h2>
<p>Immaginiamo in maniera veramente minimale che il nostro catalogo sia formato solo dal seguente file Python, a cui diamo il nome di <code>library.py</code>.</p>
<pre><code class="language-py"># library.py
catalogue = [&quot;Harry Potter e il calice di fuoco&quot;, &quot;Il rosso e il nero&quot;, &quot;Il piccolo principe&quot;]
</code></pre>
<p>Più essenziale di così, si muore... eppure è un codice valido e funzionante.</p>
<h3 id="web-server"><a class="header" href="#web-server">Web server</a></h3>
<p>Per poter far comunicare Python con la pagina HTML però, serve qualcuno che faccia da intermediario. Non posso infatti chiamare del codice Python direttamente dalla pagina web! Le pagine web possono infatti interagire unicamente tramite dei link, o più precisamente degli URL, e noi ancora non abbiamo nulla del genere.</p>
<p>L'intermediario che mette in comunicazione pagina web e codice sul server si chiama, in modo non troppo sorprendente, <strong>web server</strong>. Vediamo come si fa su Python.</p>
<p>Esistono diverse librerie che forniscono un web server, noi in questo tutorial useremo <a href="https://www.palletsprojects.com/p/flask/">Flask</a>, che è estremamente leggero e semplice da usare, anche se magari non ha tutte le funzionalità che offrono altre librerie.</p>
<p>Essendo una libreria esterna non di sistema, bisogna prima di tutto installarla. Come abbiamo visto, apriamo un terminale e scriviamo:</p>
<pre><code>pip3 install flask
</code></pre>
<p>et voilà! La libreria è installata e pronta all'uso.</p>
<p>Ora creiamo un nuovo file nel nostro progetto, che chiamiamo <code>app.py</code>. Attenzione: il nome deve essere esattamente questo, altrimenti non funziona tutto automagicamente 🎩.</p>
<pre><code class="language-py">from flask import Flask
from library import catalogue
import json

app = Flask(&quot;marconi&quot;)

@app.route(&quot;/&quot;)
def data_book():
    return json.dumps(
        [book for book in catalogue]
        )
</code></pre>
<p>Vediamo cosa abbiamo fatto. Abbiamo importato <code>Flask</code> dalla libreria <code>flask</code> e il nostro catalogo dal file <code>library</code> che abbiamo creato precedentemente. Importiamo anche la libreria di sistema <code>json</code>, che è utile per convertire le variabili Python nel formato stringa JSON (vedi dopo. </p>
<p>La riga <code>app = Flask(&quot;marconi&quot;)</code> crea un web server e gli da il nome di &quot;marconi&quot; (possiamo mettere quello che preferiamo).</p>
<p>La riga <code>@app.route(&quot;/&quot;)</code> è un'annotazione: sta ad indicare che la funzione successiva deve essere chiamata quando qualcuno prova ad accedere alla pagina web.</p>
<p>La funzione <code>data_book()</code> viene quindi chiamata quando interroghiamo il web server. Questa funzione ritorna il nostro catalogo in formato JSON. È formata dalle seguenti parti:</p>
<ul>
<li><code>json.dumps()</code> è una funzione che converte il parametro che gli viene passato in formato JSON</li>
<li><code>[book for book in catalogue]</code> è una sintassi tipica di Python, che crea una nuova lista con all'interno tutti gli elementi di <code>catalogue</code>.</li>
</ul>
<p>Nel dettaglio, stiamo dicendo che per ogni elemento <code>book</code> all'interno della lista <code>catalogue</code>, vogliamo creare un elemento con esattamente lo stesso valore di <code>book</code>.</p>
<p>La precedente forma compatta è equivalente al seguente codice:</p>
<pre><code class="language-py">mylist = []
for book in catalogue:
    mylist.append(book)
</code></pre>
<p>Come si può vedere, nella forma compatta non abbiamo bisogno di dichiarare la variabile di appoggio <code>mylist</code>.</p>
<p>Attenzione: se book <strong>non</strong> fosse un tipo base ma un oggetto, questa sintassi non va bene, perché Python non saprebbe come convertire automaticamente un oggetto ti tipo <code>Book</code> in una stringa JSON. Per risolvere il problema, possiamo dire a Python che per trasformare l'oggetto in JSON deve associare ad ogni proprietà della classe Book una corrispondente proprietà nella stringa JSON. Per fare questo possiamo usare la proprietà <code>__dict__</code>, che come potete intuire dal doppio trattino basso all'inizio e alla fine, è una proprietà di sistema, assegnata automaticamente a tutti gli oggetti di una classe. La funzione precedente diventerebbe quindi:</p>
<pre><code class="language-py">def data_book():
    return json.dumps(
        [book.__dict__ for book in catalogue]
        )
</code></pre>
<h3 id="il-formato-json"><a class="header" href="#il-formato-json">Il formato JSON</a></h3>
<p>Fate attenzione: <a href="https://www.json.org/">JSON</a> è un formato per scambiarsi i dati tra macchine (machine-to-machine), ma che può essere letto e scritto abbastanza facilmente anche dagli esseri umani. JSON quindi non è un codice, o un'applicazione, o una libreria, ma è un formato di stringa che permette alle macchine di comunicare fra loro in modo comprensibile. Volendo fare un paragone con la lingua umana, è come la sintassi della frase: per capirsi le persone devono mettere nel corretto ordine soggetto, verbo e complementi, altrimenti non ci si capisce.</p>
<p>JSON usa le seguenti convenzioni:</p>
<ul>
<li>le parentesi graffe per definire gli oggetti</li>
<li>le parentesi quadre per le liste</li>
<li>la virgola per separare gli elementi di una lista</li>
<li>i due punti per definire le proprietà di un oggetto</li>
</ul>
<p>Ad esempio, per definire una lista di due oggetti, ognuno con le proprietà <code>title</code> e <code>author</code>, scriveremo:</p>
<pre><code class="language-json">[
    {
        &quot;title&quot;:&quot;Harry Potter e il calice di fuoco&quot;,
        &quot;author&quot;:&quot;J.K.Rowling&quot;
    },
    {
        &quot;title&quot;:&quot;Il rosso e il nero&quot;,
        &quot;author&quot;:&quot;Stendhal&quot;
    },
    {
        &quot;title&quot;:&quot;Il piccolo principe&quot;,
        &quot;author&quot;:&quot;Antoine de Saint-Exupéry&quot;
    }
]
</code></pre>
<p>Per generare o validare stringhe JSON, è possibile usare servizi online come ad esempio <a href="https://jsonlint.com/?json=%5B%7B%22title%22:%22Harry%20Potter%20e%20il%20calice%20di%20fuoco%22,%22author%22:%22J.K.Rowling%22%7D,%7B%22title%22:%22Il%20rosso%20e%20il%20nero%22,%22author%22:%22Stendhal%22%7D,%7B%22title%22:%22Il%20piccolo%20principe%22,%22author%22:%22Antoine%20de%20Saint-Exup%C3%A9ry%22%7D%5D">JSON lint</a>.</p>
<h3 id="lanciare-il-web-server"><a class="header" href="#lanciare-il-web-server">Lanciare il web server</a></h3>
<p>Per lanciare il web server, aprite un terminale nella cartella del vostro progetto e scrivete:</p>
<pre><code>python3 -m flask run
</code></pre>
<p>Se tutto va bene, vi dovrebbe comparire la scritta <code>Running on http://127.0.0.1:5000/</code>. Ecco quindi il link che ci serviva per far comunicare la pagina web con la nostra applicazione!</p>
<h2 id="html"><a class="header" href="#html">HTML</a></h2>
<p>Ora creiamo un nuovo file, sempre nel nostro progetto, che chiamiamo <code>index.html</code>.</p>
<pre><code class="language-hmtl">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;it&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;Biblioteca scolastica&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;ul&gt;
    &lt;/ul&gt;    
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>È una semplice pagina che visualizza una lista, in questo momento vuota.</p>
<p>Come facciamo a riempire la lista con i dati presi dal web server? Ci serve un po' di JavaScript.</p>
<h3 id="javascript"><a class="header" href="#javascript">JavaScript</a></h3>
<p>Subito dopo il tag <code>&lt;/body&gt;</code> e subito prima del tag <code>&lt;/html&gt;</code>, nella penultima riga insomma, aggiungiamo il codice che ci serve. </p>
<p>Prima di tutto scarichiamo ed importiamo una libreria JavaScript che ci semplificherà molto la vita e chi si chiama <a href="https://jquery.com">JQuery</a>. Potete scaricare il file direttamente cliccando con il tasto destro <a href="https://code.jquery.com/jquery-3.4.1.min.js">qui</a> e scegliendo &quot;Salva link come&quot; o qualcosa di simile. Salvate il file sempre nella cartella di progetto.</p>
<p>Quindi aggiungiamo la seguente riga:</p>
<pre><code class="language-html">&lt;script src=&quot;jquery-3.4.1.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>OK, abbiamo importato la libreria. Ora dobbiamo prendere i dati dal web server. Lo facciamo scrivendo subito dopo un nostro pezzo di codice all'interno del tag <code>&lt;script&gt;</code>.</p>
<pre><code class="language-html">&lt;script&gt;
    // Prende i dati come JSON dall'URL
    // quando ha finito di prendere i dati, chiama la funzione &quot;makeList&quot;
    $.getJSON(&quot;http://127.0.0.1:5000/&quot;).done(makeList);
&lt;/script&gt;
</code></pre>
<p>Attenzione a quello che succede. Il codice dentro il tag script è JavaScript. Il simbolo del dollaro (<code>$</code>) indica che stiamo usando la libreria JQuery che abbiamo importato subito prima. Quando i dati sono stati completamente ricevuti (ci potrebbe volere del tempo, se i libri fossero molti), viene chiamata la funzione <code>makeList</code>, che dobbiamo ancora definire.</p>
<p>Subito dopo la riga precedente, creiamo ora la funzione <code>makeList</code>:</p>
<pre><code class="language-js">function makeList(jsonBooks) {
    for (book of jsonBooks) {
        let newItem = `&lt;li&gt;${book}&lt;/li&gt;`;
        $(&quot;ul&quot;).append(newItem);
    }
}
</code></pre>
<p>Vediamo cosa abbiamo fatto. Nella prima riga abbiamo creato una funzione con la keyword <code>function</code>; la funzione prende in input un parametro che gli viene passato da JQuery quando i dati sono stati ricevuti.</p>
<p>Subito dopo c'è un ciclo <code>for</code>, molto simile a quello del Python, con qualche differenza:</p>
<ul>
<li>JavaScript usa le parentesi dopo la keyword <code>for</code></li>
<li>JavaScript usa la keyword <code>of</code> invece che <code>in</code> per iterare all'interno di una lista</li>
<li>JavaScript usa le parentesi graffe per contenere il corpo del <code>for</code></li>
</ul>
<p>All'interno del <code>for</code>, nella prima riga creiamo il nuovo item che vogliamo andare ad aggiungere alla lista.</p>
<p>Nella riga successiva, c'è un istruzione che dice:</p>
<ul>
<li>usando JQuery (<code>$</code>), seleziona la lista non ordinata (<code>ul</code>)</li>
<li>all'interno della lista, aggiungi alla fine (<code>append</code>) il nuovo elemento appena creato</li>
</ul>
<p>Il codice finale di tutta la pagina verrà come segue:</p>
<pre><code class="language-hmtl">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;it&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;Biblioteca scolastica&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;ul&gt;
    &lt;/ul&gt;    
&lt;/body&gt;
&lt;script src=&quot;jquery-3.4.1.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    // Prende i dati come JSON dall'URL
    // quando ha finito di prendere i dati, chiama la funzione &quot;makeList&quot;
    $.getJSON(&quot;http://127.0.0.1:5000/&quot;).done(makeList);
    function makeList(jsonBooks) {
    for (book of jsonBooks) {
        let newItem = `&lt;li&gt;${book}&lt;/li&gt;`;
        $(&quot;ul&quot;).append(newItem);
    }
}
&lt;/script&gt;
&lt;/html&gt;
</code></pre>
<h3 id="go-live"><a class="header" href="#go-live">Go Live</a></h3>
<p>Su Visual Studio Code (detto anche VSCode per brevità), potete lanciare questa pagina con &quot;Go Live&quot; nella barra in basso, lo trovate sulla destra. Se non lo vedete, assicuratevi di aver installato l'estensione &quot;Live Server&quot; su VSCode.</p>
<p>Al primo lancio vedrete che non succede niente. Per controllare cosa è successo, aprite la console di debug premendo con il tasto destro in qualsiasi punto della pagina web nel browser e cliccando su &quot;Analizza elemento&quot; o &quot;Ispeziona elemento&quot;, quindi nel pannello che si apre, selezionate la tab console.</p>
<p>Se avete fatto tutto correttamente, dovrebbe comparirvi un messaggio di errore del tipo:</p>
<pre><code>Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://127.0.0.1:5000/. (Reason: CORS header ‘Access-Control-Allow-Origin’ missing).
</code></pre>
<p>È normale, perché state usando due web-server diversi per la stessa pagina, questa è una cosa potenzialmente pericolosa ed il browser vi impedisce di farlo. Per aggirare la limitazione, il modo più semplice è installare queste estensioni per <a href="https://addons.mozilla.org/it/firefox/addon/cors-everywhere/">Firefox</a> o per <a href="https://chrome.google.com/webstore/detail/allow-cors-access-control/lhobafahddgcelffkeicbaginigeejlf">Chrome</a>. In questo modo vi caricherà la pagina correttamente anche in questo caso.</p>
<blockquote>
<p>Ovviamente non è questo il modo più corretto di procedere. Per fare le cose per bene, bisogna spostare tutto su Flask, anche le pagine HTML. È un'operazione abbastanza semplice ma la vedremo dopo che vi sarete impratichiti con questa parte.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
