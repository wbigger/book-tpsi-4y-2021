<!DOCTYPE HTML>
<html lang="it" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>TPSI - Quarto anno - 2021</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Materiale di supporto alle lezioni.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="chapter_1.html"><strong aria-hidden="true">1.</strong> Kernel&amp;Shell</a></li><li class="chapter-item expanded "><a href="chapter_2.html"><strong aria-hidden="true">2.</strong> Comandi</a></li><li class="chapter-item expanded "><a href="01-base/index.html"><strong aria-hidden="true">3.</strong> Programmazione</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="01-base/01-types.html"><strong aria-hidden="true">3.1.</strong> Tipi</a></li><li class="chapter-item expanded "><a href="01-base/02-python.html"><strong aria-hidden="true">3.2.</strong> Python</a></li><li class="chapter-item expanded "><a href="01-base/02-1-python-install.html"><strong aria-hidden="true">3.3.</strong> Come usare Python</a></li><li class="chapter-item expanded "><a href="01-base/03-tris.html"><strong aria-hidden="true">3.4.</strong> Gioco del Tris</a></li><li class="chapter-item expanded "><a href="01-base/04-test.html"><strong aria-hidden="true">3.5.</strong> Test del gioco</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">TPSI - Quarto anno - 2021</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/wbigger/book-tpsi-4y-2021.git" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="organizzazione-di-un-sistema-operativo"><a class="header" href="#organizzazione-di-un-sistema-operativo">Organizzazione di un sistema operativo</a></h1>
<p>Il sistema operativo gestisce le risorse della macchina (memoria, processore, periferiche) per permettere a più applicazioni di poter funzionare contemporaneamente. Ma ogni cosa ha un suo costo: il sistema operativo utilizza per sé stesso una porzione a volte considerevole delle risorse stesse del nostro computer: pensiamo a quanti GB sul disco occupa una installazione di Windows o Mac, a quanta memoria occupa, e che ha volte i loro processi impegnano la CPU senza una ragione apparente. Oltre a questo pensiamo a problemi di vulnerabilità, aggiornamento, etc.</p>
<blockquote>
<p>Se noi vogliamo far girare un solo programma sul computer, possiamo non aver bisogno di un sistema operativo. Tipicamente quest accade per piccoli elaboratori per compiti molto specifici: questo sistemi vengono chiamati <em>embedded</em>.</p>
</blockquote>
<p>Il sistema operativo è una componente software molto complessa: per poter essere gestita in maniera ottimale, è stata divisa in sotto-componenti. Di seguito vediamo i principali.</p>
<h1 id="kernel"><a class="header" href="#kernel">Kernel</a></h1>
<p>Per rappresentare i componenti del sistema operativo, si usa spesso la metafora delle sfere concentriche, in cui al centro di tutto c'è l'hardware.</p>
<p align="center">
<img title="shell-kernel" src='./assets/shell-kernel.png' width='70%' style="padding: 50px 0 30px 0;">
</p>
<p>Il programma che è più vicino all'hardware viene chiamato <strong>kernel</strong>. Noi ci occuperemo in particolare del kernel <strong>Linux</strong>, un kernel open-source.</p>
<blockquote>
<p>Il kernel Linux è stato creato nel 1991 dal finlandese Linus Torvalds ed è distribuito attraverso la licenza di software libero GNU GPLv2. Questa licenza è stata ideata da Richard Stallman (dell'MIT di Boston) per tutelare il software &quot;libero&quot; (in inglese free software, in cui la parola free ha il significato di libero come in &quot;free as in speech&quot;).</p>
</blockquote>
<p>Il kernel si occupa di mediare l'accesso delle applicazioni alle risorse del computer:</p>
<ul>
<li>central processing unit (CPU)</li>
<li>memoria volatile (RAM)</li>
<li>periferiche di input/output (hard disk, tastiera, mouse, stampanti, etc.)</li>
</ul>
<p>Il kernel è un programma come gli altri, non ha niente di &quot;magico&quot;. In particolare il kernel è un insieme di librerie scritte principalmente in C/C++. Del kernel Linux possiamo anche vederne il <a href="https://github.com/torvalds/linux">codice sorgente</a>, visto che è un software libero e quindi anche aperto.</p>
<h1 id="shell"><a class="header" href="#shell">Shell</a></h1>
<p>Per usare direttamente il kernel dovremmo scrivere dei programmi in C/C++, ad esempio per interrogare l'hard-disk e farci restituire i file all'interno di una certa cartella. Scrivere un programma noi per ogni operazione che dobbiamo svolgere, ovviamente non è molto comodo.</p>
<p>Per poter usare in maniera le chiamate di sistema che ci mette a disposizione il kernel, ci sono una serie di strumenti che ci facilitano i compito. Per Linux, queste utilità sono state sviluppate dal <a href="www.gnu.org">progetto GNU</a>, e si chiamano <strong>GNU coreutils</strong>.</p>
<blockquote>
<p>Il progetto GNU è stato fondato nel 1983 da Richard Stallman, al MIT di Boston. GNU ha lo scopo in primo luogo di permettere agli sviluppatori di tutto il mondo di poter sviluppare <em>liberamente</em> software, ovvero avendo a disposizione il codice sorgente dei programmi di altre aziende che usano, e senza la necessità di pagare licenze. Le utilità che useremo in questo corso sono solo parte del progetto; un'altra parte fondamentale è la licenza che permette al software di essere usato legalmente, rispettando le libertà fondamentali del free software. Il nome di questa licenza è GPL (General Public Licence), di cui l'ultima versione è la <a href="https://www.gnu.org/licenses/gpl.html">GPLv3</a> <p align="center"><a href='https://www.gnu.org/licenses/gpl.html'><img src='./assets/gpl.png' width='200px'></a></p></p>
</blockquote>
<p>Anche in questo caso possiamo andare a cercare il <a href="http://git.savannah.gnu.org/cgit/coreutils.git">codice sorgente</a>.</p>
<h1 id="terminale"><a class="header" href="#terminale">Terminale</a></h1>
<p>Per poter interagire con la shell, abbiamo bisogno di un'applicazione specifica che ci permetta di farlo. Quest'applicazione si chiama &quot;terminale&quot;.</p>
<p align="center">
<img title="shell-kernel" src='./assets/terminal.png' width='70%' style="padding: 50px 0 30px 0;">
</p>
<p>Nell'immagine vedete l'applicazione &quot;iTerm2&quot;, molto usata in ambito Apple come terminale.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="comandi"><a class="header" href="#comandi">Comandi</a></h1>
<h2 id="echo"><a class="header" href="#echo">echo</a></h2>
<p>Ritorna un'&quot;eco&quot; del suo argomento sul terminale.</p>
<pre><code class="language-sh">$ echo ciao
ciao
</code></pre>
<h2 id="touch"><a class="header" href="#touch">touch</a></h2>
<p>Crea un file o, se già esiste, ne aggiorna la data di ultima modifica.</p>
<pre><code class="language-sh">$ touch ciao
</code></pre>
<h2 id="cat"><a class="header" href="#cat">cat</a></h2>
<p>Abbreviazione di &quot;concatenate&quot;, mostra il contenuto di un file.</p>
<pre><code class="language-sh">$ cat ciao
</code></pre>
<h2 id="redirect"><a class="header" href="#redirect">Redirect</a></h2>
<p>Il carattere <code>&gt;</code> redirige l'output di un comando verso un file, invece del terminale. Se il file non esiste, viene creato. Se il file esiste, viene sovrascritto.</p>
<pre><code class="language-sh">$ echo &quot;buongiorno&quot; &gt; buongiorno.txt
</code></pre>
<p>Se si vuole aggiungere il testo alla fine del file senza sovrascriverlo, si può usare il <code>&gt;&gt;</code>.</p>
<pre><code class="language-sh">$ echo &quot;buongiorno&quot; &gt;&gt; buongiorno.txt
$ cat buongiorno.txt
buongiorno
buongiorno
</code></pre>
<h2 id="ls"><a class="header" href="#ls">ls</a></h2>
<p>Elenca i file nella cartella corrente</p>
<pre><code class="language-sh">$ ls
buongiorno.txt	ciao
</code></pre>
<p>L'opzione <code>-l</code> mostra i dettagli del file.</p>
<pre><code class="language-sh">$ ls -l
total 8
-rw-r--r--  1 claudio  staff   11 Oct 12 07:03 buongiorno.txt
-rw-r--r--  1 claudio  staff    0 Oct 12 07:00 ciao
</code></pre>
<p>Aggiungendo anche l'opzione <code>-h</code> mostra i dettagli del file in un formato più leggibile per l'essere umano (&quot;human&quot;). Notare la B alla fine della quinta colonna, che sta per &quot;Byte&quot;.</p>
<pre><code class="language-sh">$ ls -lh
total 8
total 8
-rw-r--r--  1 claudio  staff    11B Oct 12 07:03 buongiorno.txt
-rw-r--r--  1 claudio  staff     0B Oct 12 07:00 ciao
</code></pre>
<p>Un'altra opzione utile è <code>-a</code>, per visualizzare anche i file nascosti. Su linux, un file è nascosto semplicemente se inizia con il carattere punto (<code>.</code>).</p>
<pre><code class="language-sh">$ ls -lha
total 8
drwxr-xr-x  4 claudio  staff   128B Oct 12 07:03 .
drwxr-xr-x  4 claudio  staff   128B Oct 12 07:00 ..
-rw-r--r--  1 claudio  staff    11B Oct 12 07:03 buongiorno.txt
-rw-r--r--  1 claudio  staff     0B Oct 12 07:00 ciao
</code></pre>
<h2 id="pwd"><a class="header" href="#pwd">pwd</a></h2>
<p>Abbreviazione di Print Working Directory, visualizza la directory corrente.</p>
<pre><code class="language-sh">$ pwd
/Users/claudio/try/bash
</code></pre>
<h2 id="mkdir"><a class="header" href="#mkdir">mkdir</a></h2>
<p>Abbreviazione di &quot;make directory&quot;, crea una nuova cartella.</p>
<pre><code class="language-sh">$ mkdir food
$ ls -l
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
</code></pre>
<p>Si può capire che è una cartella perché il primo carattere nella riga di &quot;food&quot; è una <code>d</code> che sta appunto per &quot;directory&quot;. I file hanno invece un trattino. Alcuni terminali mostrano le cartelle anche con un colore diverso.</p>
<h2 id="cd"><a class="header" href="#cd">cd</a></h2>
<p>Abbreviazione di &quot;change directory&quot;, permette di spostarsi tra cartelle.</p>
<pre><code class="language-sh">$ cd food
$ pwd
/Users/claudio/try/bash/food
</code></pre>
<p>Usando <code>cd</code> senza argomenti, torno alla &quot;home directory&quot;, che viene anche rappresentata con il simbolo <code>~</code> (si legge tilde).</p>
<pre><code class="language-sh">$ cd
$ pwd
/Users/claudio/
$ cd ~ # comando equivalente al precedente
$ pwd
/Users/claudio/
</code></pre>
<p>Per tornare alla directory precedente, si può usare il simbolo <code>-</code> (trattino).</p>
<pre><code class="language-sh">$ cd -
$ pwd
/Users/claudio/try/bash/food
</code></pre>
<p>Per salire di una directory si può usare il doppio punto.</p>
<pre><code class="language-sh">$ cd ..
$ pwd
/Users/claudio/try/bash
</code></pre>
<h2 id="cp"><a class="header" href="#cp">cp</a></h2>
<p>Copia un file, abbreviazione di copy.</p>
<pre><code class="language-sh">$ cp ciao hello
$ ls
total 8
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
-rw-r--r--  1 claudio  staff   0 Oct 12 07:20 hello
</code></pre>
<h2 id="mv"><a class="header" href="#mv">mv</a></h2>
<p>Sposta un file da una cartella ad un'altra. Se la cartella di partenza e destinazione coincidono, semplicemente rinomina il file.</p>
<pre><code class="language-sh">$ mv hello hola
$ ls
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
-rw-r--r--  1 claudio  staff   0 Oct 12 07:20 hola
</code></pre>
<h2 id="rm"><a class="header" href="#rm">rm</a></h2>
<p>Elimina un file, abbreviazione di remove.</p>
<pre><code class="language-sh">$ rm hola
$ ls
-rw-r--r--  1 claudio  staff  22 Oct 12 07:12 buongiorno.txt
-rw-r--r--  1 claudio  staff   0 Oct 12 07:00 ciao
drwxr-xr-x  2 claudio  staff  64 Oct 12 07:14 food
</code></pre>
<h2 id="top"><a class="header" href="#top">top</a></h2>
<p>Visualizza i processi attualmente in esecuzione nella macchina.</p>
<pre><code class="language-sh">$ top
</code></pre>
<p>Viene visualizzata una tabella a schermo intero. Per uscire, premere la combinazione di tasti <code>ctrl-c</code></p>
<h2 id="kill"><a class="header" href="#kill">kill</a></h2>
<p>Termina (uccide) un processo in esecuzione. Come argomento deve avere il numero del processo (PID - process ID) che viene visualizzato ad esempio con top.</p>
<pre><code class="language-sh">$ kill 11459 # termina il processo con PID 11459
</code></pre>
<h2 id="yes"><a class="header" href="#yes">yes</a></h2>
<p>Stampa su terminale una stringa all'infinito. Di default stampa 'y' ma si può personalizzare passandogli un argomento.</p>
<pre><code class="language-sh">$ yes marconi
marconi
marconi
marconi
....
</code></pre>
<p>Anche in questo caso uscire con <code>ctrl-c</code></p>
<h2 id="devnull"><a class="header" href="#devnull">/dev/null</a></h2>
<p>Un file speciale all'interno del file system linux che è un pozzo senza fondo.</p>
<pre><code class="language-sh">$ yes &gt; /dev/null ## l'output di yes viene sostanzialmente scartato
</code></pre>
<h2 id="ctrl-c"><a class="header" href="#ctrl-c">ctrl-c</a></h2>
<p>Termina (uccide) il processo corrente.</p>
<h2 id="ctrl-z"><a class="header" href="#ctrl-z">ctrl-z</a></h2>
<p>Sospende il processo corrente. Per rimetterlo in esecuzione, si possono usare i comandi <code>bg</code> o <code>fg</code></p>
<h2 id="jobs"><a class="header" href="#jobs">jobs</a></h2>
<p>Visualizza i lavori in esecuzione. Un &quot;lavoro&quot; è un processo (o più precisamente può essere un insieme di processi) che è stato lanciato dalla shell corrente. </p>
<pre><code class="language-sh">$ yes uno &gt; /dev/null
# ctrl-z
suspended  yes uno &gt; /dev/null
$ yes due &gt; /dev/null
# ctrl-z
suspended  yes due &gt; /dev/null
$ yes tre &gt; /dev/null
# ctrl-z
suspended  yes tre &gt; /dev/null
$ jobs
[1]    suspended  yes uno &gt; /dev/null
[2]  - suspended  yes due &gt; /dev/null
[3]  + suspended  yes tre &gt; /dev/null
</code></pre>
<p>Per riprendere un lavoro e portarlo in &quot;foreground&quot;, ovvero accessibile dalla shell, si usa <code>fg</code>. Se uso <code>fg</code> senza argomenti, mette in foreground il lavoro contrassegnato dal +.</p>
<p>Per riprendere un lavoro e portarlo in &quot;background&quot;, ovvero <em>non</em> accessibile dalla shell, si usa <code>bg</code>.</p>
<p>Per terminare un lavoro, posso usare sempre <code>kill</code>, ma l'argomento deve avere il simbolo %.</p>
<pre><code class="language-sh">$ kill %2
[2]  - terminated  yes due &gt; /dev/null
$ jobs
[1]  - suspended  yes uno &gt; /dev/null
[3]  + suspended  yes tre &gt; /dev/null
</code></pre>
<h2 id="variabili-di-ambiente"><a class="header" href="#variabili-di-ambiente">Variabili di ambiente</a></h2>
<p>Ogni terminale usa delle variabili che sono definite automaticamente quando viene aperto. Queste variabili vengono dette <em>variabili di ambiente</em>. Per visualizzarle si può usare il comando <code>env</code>.</p>
<pre><code class="language-sh">$ env
TERM_SESSION_ID=w1t0p0:3B371076-0F20-4C26-ACD4-4656F13F9AEA
SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.P5eh4I2m5h/Listeners
LC_TERMINAL_VERSION=3.4.10
COLORFGBG=7;0
......continua.......
</code></pre>
<p>Per visualizzare una sola variabile, si può usare <code>echo</code> e la variabile deve essere preceduta dal carattere dollaro.</p>
<pre><code class="language-sh">$ echo $SHELL
/bin/bash
</code></pre>
<p>Per assegnare una variabile, si può usare il comando <code>export</code>.</p>
<pre><code class="language-sh">$ export PS1=&quot;test&gt;&quot;
</code></pre>
<p>Di seguito alcune variabili di ambiente che abbiamo visto:</p>
<ul>
<li>$TERM: quale standard rispetta l'applicazione terminale in uso, di solito è <code>xterm</code> o <code>xterm-256color</code></li>
<li>$SHELL: quale shell sto utilizzando, su Ubuntu di default è bash (quella sviluppata da GNU)</li>
<li>$PS1: il prompt dei comandi, ovvero tutto quello che c'è prima del dollaro (dollaro compreso), solitamente include la directory corrente ed il nome utente</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="premessa-concetti-base-di-programmazione"><a class="header" href="#premessa-concetti-base-di-programmazione">Premessa: concetti base di programmazione</a></h1>
<p>Quando vogliamo imparare a programmare, in qualsiasi linguaggio, ci troviamo di fronte ad una pagina vuota.</p>
<p>Cosa dobbiamo fare? Cosa dobbiamo scrivere in questa pagina che ci si presenta davanti?</p>
<p>Quello che facciamo quando scriviamo un programma è qualcosa di fortemente creativo: non andremo solo a scrivere del codice che esegue istruzioni, ma andremo a creare un mondo nuovo, in cui ci potremo muovere ed agire con i concetti e le relazioni che avremo definito noi stessi.</p>
<p>Scrivere codice è come scrivere un romanzo o dipingere su una tela. Le nostre penne e pennelli sono tastiera e mouse, e la tela è lo schermo. Quello che andremo a realizzare però sarà qualcosa che non solo <em>rappresenta</em> la realtà, ma andrà anche ad <em>interagire</em> con essa, e in un medio periodo può anche modificarla ed a sua volta esserne modificato. In altre parole il codice è una cosa viva, in continua evoluzione, la cui capacità di replicazione e mutazione (soprattutto per il codice open-source) lo rende vicino per certi versi ad un essere vivente.</p>
<h2 id="un-programmatore-è-un-bravo-osservatore"><a class="header" href="#un-programmatore-è-un-bravo-osservatore">Un programmatore è un bravo osservatore</a></h2>
<p>Un programmatore è un informatico ed il compito principale di un informatico è... risolvere problemi. Per poter risolvere un problema, però, bisogna prima capire <em>qual è</em> il problema, <em>chi</em> ha il problema e <em>perché</em>. Per poter fare questo, un programmatore deve essere un bravo osservatore della realtà. Più importante del QI o della genialità, è la capacità di saper osservare il mondo, ascoltare le persone, immedesimarsi negli altri e saper trasformare tutto questo in righe di codice che funzionino.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tipi"><a class="header" href="#tipi">Tipi</a></h1>
<p>Tutto comincia con i tipi. </p>
<p>Per dare una forma ed un senso a quello che ci circonda, dobbiamo poter <em>assegnare</em> a quello che ci percepiamo un <em>nome</em> che rappresenta una categoria, un insieme di proprietà e caratteristiche che accumunano un qualcosa ad altre cose che conosciamo già. Questo &quot;nome comune&quot; di cosa, persona o animale&quot; che ci ricorda i nostri studi elementari e che ha posto le basi alla nostra comprensione della lingua parlata e scritte, si ripropone ora all'inizio dei nostri studi dei linguaggi di programmazione. Questi nomi in programmazione prendono il nome di <em>tipi</em>.</p>
<h2 id="tipi-fondamentali"><a class="header" href="#tipi-fondamentali">Tipi fondamentali</a></h2>
<p>Esistono alcuni tipi che, più o meno universalmente, costituiscono i mattoncini base per tutti gli altri tipi nella programmazione. Questi tipi rappresentano delle caratteristiche base di ciò che ci circonda.</p>
<p>Guardiamoci intorno. Io adesso sono ne salotto di casa mia. Cosa vedo? Cosa sento? Cosa percepisco? Vedo una libreria con un certo numero di libri dentro. Sento una musica a basso volume. Sento un po' caldo. Vedo una tastiera con tanti caratteri scritti sopra, ed uno schermo con tante parole. </p>
<p>I tipi fondamentali sono:</p>
<ul>
<li>numeri interi: per rappresentare qualcosa che nella nostra descrizione del mondo non può essere diviso o non ci interessa che sia diviso. Ad esempio il numero di libri nella libreria.</li>
<li>numeri decimali: per rappresentare qualcosa che ha un valore continuo e divisibile. Ad esempio il volume della musica, la temperatura della stanza.</li>
<li>caratteri: per rappresentare un singolo carattere, numero o in generale simbolo. Ad esempio i singoli caratteri che vediamo sulla tastiera: <code>i</code>, <code>7</code>, <code>€</code>, etc.</li>
<li>stringhe: per rappresentare una sequenza di caratteri. Ad esempio una stringa può essere una parola sullo schermo, o un'intera riga, o il titolo di un libro, etc.</li>
<li>boolean: per cose che possono essere solo vere o false. Ad esempio se la luce è accesa o spenta.</li>
<li>liste (o array): per rappresentare un insieme di cose. Ad esempio la lista di tutti i libri che si trovano nella libreria.</li>
</ul>
<p>Di seguito un approfondimento su alcuni tipi sopra descritti.</p>
<h3 id="numeri-interi"><a class="header" href="#numeri-interi">Numeri interi</a></h3>
<p>In matematica, i <a href="https://it.wikipedia.org/wiki/Numero_intero">numero interi</a> possono essere o naturali (zero e i numeri positivi: 0,1,2,3,... ) e relativi (numeri naturali più numeri negativi: ...,-3,-2,-1,0,1,2,3,...). Non c'è un limite inferiore o superiore al valore che un certo numero può assumere</p>
<p>In informatica, oltre a questo, dobbiamo fare i conti anche con le risorse finite della macchina su cui operiamo. Dobbiamo quindi sempre tener presente che un certo numero intero, occuperà in base alla sua grandezza un certo numero di byte in memoria. Il numero di byte che tipicamente può assumere un intero in memoria è: 1 byte, 2 byte, 4 byte o 8 byte. Un intero di 8 byte è sufficientemente enorme da rappresentare qualsiasi cosa, e di solito non ne servono di più.</p>
<p>Riassumendo, bisogna avere in mente due cose quando parliamo di interi:</p>
<ul>
<li>se il numero sarà sicuramente sempre positivo, o ha senso che possa essere negativo</li>
<li>quant'è il valore massimo o minimo che nella pratica il numero può avere, che determina il numero di byte da riservare in memoria.</li>
</ul>
<blockquote>
<p>In C/C++, il segno e la grandezza si dichiara esplicitamente. In Python, i numeri interi sono sempre con il segno ed il compilatore assegna automaticamente il numero di byte in base al valore.</p>
</blockquote>
<h3 id="numeri-decimali"><a class="header" href="#numeri-decimali">Numeri decimali</a></h3>
<p>I numeri decimali sono quelli con la virgola, e vengono detti anche numeri a virgola mobile, o <em>floating point numbers</em>.</p>
<p>I numeri decimali in informatica sono sempre con il segno. Anche in questo caso dobbiamo però decidere il numero di byte che occupa in memoria. Il numero di byte che può assumere un numero decimale è: 4 byte o 8 byte. Anche in questo caso, un numero decimale di 8 byte può rappresentare bene praticamente qualsiasi cosa che conosciamo, e non servono più byte.</p>
<p>Nei processori a 64bit, la dimensione tipica dei numeri decimali è sempre 8 byte, che vengono detti anche <em>double precision floating point numbers</em>, o semplicemente <em>double</em>. Nei processori a 8, 16 o 32 bit, per motivi di performance di solito si assegnano 4 byte e solo in caso di necessità se ne assegnano 8.</p>
<blockquote>
<p>Come per gli interi, in C/C++ bisogna dichiarare esplicitamente se un float occupa 4 o 8 byte. In Python occupa sempre 8 byte.</p>
</blockquote>
<h3 id="caratteri-e-stringhe"><a class="header" href="#caratteri-e-stringhe">Caratteri e stringhe</a></h3>
<p>Per la rappresentazione dei caratteri bisogna fare più attenzione rispetto a quella degli interi perché esistono tanti standard diversi che co-esistono tra di loro. Semplificando, attualmente esistono due standard principali:</p>
<ul>
<li><a href="https://it.wikipedia.org/wiki/ASCII">ASCII</a>: rappresenta i caratteri inglesi (senza accenti o altri segni diacritici), i numeri e alcuni simboli base come <code>@</code>, <code>!</code>, <code>#</code>,<code>5</code> e simili. Usa un byte di memoria e viene utilizzato in casi particolari o in vecchi sistemi</li>
<li><a href="https://it.wikipedia.org/wiki/UTF-8">UTF-8</a>: rappresenta i caratteri di tutte le lingue (italiano, spagnolo, cinese, indiano, sanscrito, greco antico, etc), i segni matematici, le emoji e tanti altri simboli. Usa un numero variabile di byte: per i caratteri più comuni (essenzialmente quelli ASCII) usa un solo byte, in tutti gli altri casi usa due byte. Alcuni esempi di caratteri UTF-8 sono:,<code>Ẽ</code>,<code>≢</code>,<code>©</code>,<code>∂</code>,<code>🌷</code>, etc.</li>
</ul>
<p>Nel linguaggio C, per rappresentare un singolo carattere si usa il singolo apice, ad esempio <code>'k'</code> è il singolo carattere <code>k</code>; per rappresentare le stringhe si usa il doppio apice, ad esempio <code>&quot;hello&quot;</code> è la stringa <code>hello</code>. In C l'espressione <code>'hello'</code> ritorna un errore.</p>
<p>In Python, non si può rappresentare un singolo carattere, ma esistono solo stringhe. Per rappresentare le stringhe, si può usare sia indifferentemente sia il singolo che il doppio apice, quindi le espressioni <code>&quot;hello&quot;</code> ed <code>'hello'</code> sono equivalenti.</p>
<blockquote>
<p>Come scegliere tra singolo e doppio apice? Dipende se all'interno della stringa che vogliamo rappresentare, ci sono degli apici. Se ci sono dei singoli apici all'interno, conviene usare i doppi apici per le stringhe, in modo che la stringa <code>&quot;l'alba è meravigliosa&quot;</code> sia valida. Se invece all'interno della stringa abbiamo doppi apici, conviene usare esternamente i singoli apici, in modo che ad esempio <code>'&quot;Python&quot; è bello'</code> sia una stringa valida. Se all'interno della nostra stringa ci sono sia singoli che doppi apici, dobbiamo usare il carattere di escape <code>\'</code> e <code>\&quot;</code>; ad esempio possiamo scrivere <code>'l\'alba è &quot;meravigliosa&quot;</code> oppure `&quot;l'alba è &quot;meravigliosa&quot;'. In caso di incertezza comunque, lo standard è utilizzare il singolo apice.</p>
</blockquote>
<blockquote>
<p>In Python esistono anche altri modi di rappresentare le stringhe, lo vedremo più avanti.</p>
</blockquote>
<h3 id="boolean"><a class="header" href="#boolean">Boolean</a></h3>
<p>Come abbiamo detto, un boolean rappresenta qualcosa che può essere o  solo vero o solo falso. Una variabile boolean può essere assegnata in uno dei seguenti modi:</p>
<ul>
<li>direttamente a vero o falso, ad esempio <code>a = True</code></li>
<li>come risultato di una operazione logica, ad esempio <code>a = 3 &gt; 2</code></li>
</ul>
<p>Attenzione a non abusare del tipo boolean: usarlo solo quando concettualmente nel nostro mondo non possono esserci altri valori o valori intermedi. Ad esempio immaginiamo che nel nostro mondo ci sono sedie rosse e gialle. Mettere una variabile boolean del tipo <code>is_red</code>, che mi dice se la sedia è rossa, è una pessima idea. Primo perché non è chiaro cosa succede quando il valore è falso e secondo perché se domani arrivano delle sedie blu, devo cambiare tutto il codice :(</p>
<blockquote>
<p>Uno dei punti su cui variano molto i diversi linguaggi è come e se convertire altri tipi in boolean. Ad esempio, posso considerare il valore <code>0</code> come falso, ed <code>1</code> come vero? Posso dire che una lista vuota è falsa, ed una lista non vuota è vera? Oppure che una stringa vuota è falsa, ed una stringa non vuota è vera? Questo in informatica viene detto &quot;Truthy and Falsy&quot; del linguaggio. Per sapere cosa è vero e falso in Python leggete <a href="https://docs.python.org/2.4/lib/truth.html">qui</a>, in C++ leggete <a href="https://www.geeksforgeeks.org/bool-data-type-in-c/">qui</a>.</p>
</blockquote>
<h3 id="liste-o-array"><a class="header" href="#liste-o-array">Liste (o array)</a></h3>
<p>In quanto esseri umani, una delle cose fondamentali che facciamo continuamente è raggruppare insieme le intorno a noi che abbiano una qualche caratteristica in comune. Potrebbero essere un insieme di libri che si trovano sullo stesso scaffale, o tutta la frutta che abbiamo in casa, o gli articoli che si trovano nel magazzino. Questi insiemi sono rappresentati nei diversi linguaggi di programmazione in modo molto vario e con diversi nomi, ma quasi sempre sono un tipo base del linguaggio stesso.</p>
<p>Nonostante le diversità, una caratteristica comune di tutti i linguaggi è che per definire e manipolare le liste si usano le parentesi quadre <code>[]</code>. Ad esempio, una lista di nomi si può definire come <code>names = [&quot;John&quot;,&quot;Mario&quot;,Akira&quot;]</code>, e per leggere un elemento di una lista si usa ad esempio <code>names[1]</code>.</p>
<p>Attenzione: per convenzione, quasi tutti i linguaggi, inclusi C e Python, cominciano a contare da <code>0</code>, mentre noi nella vita quotidiana cominciamo da <code>1</code>. Nella pratica dell'informatica quindi, se una lista ha 3 elementi, il primo elemento della lista è l'elemento <code>0</code>, e l'ultimo è l'elemento <code>2</code>. Vedremo degli esempi in seguito.</p>
<p>Una nota sulla nomenclatura: il tipo base di lista in C si chiama <em>array</em>, mentre in Python si chiama <em>list</em>. Tecnicamente tra liste e array ci sono delle differenze, ma quello che interessa a noi in questo momento è che in tutti i linguaggi esistono dei tipi base per rappresentare un insieme di oggetti con delle caratteristiche in comune.</p>
<h2 id="approfondimento-tipi-statici-dinamici-deboli-e-forti"><a class="header" href="#approfondimento-tipi-statici-dinamici-deboli-e-forti">Approfondimento: tipi statici, dinamici, deboli e forti</a></h2>
<p>La caratteristica che probabilmente differenzia maggiormente i vari linguaggi di programmazione tra di loro, è come il linguaggio gestisce i tipi. Ci sono due assi su cui ci si può muovere:</p>
<ul>
<li>static vs dynamic</li>
<li>weak vs strong</li>
</ul>
<p>L'argomento è molto interessante ma anche altrettanto complesso, e richiede una buona conoscenza di come funziona la gestione della memoria, sia durante la compilazione che a runtime.</p>
<p>Questo piccolo paragrafo è solo per mettervi un po' di curiosità e farvi capire che l'oceano è grande :) Ne parleremo in modo più approfondito l'anno prossimo :D</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="python"><a class="header" href="#python">Python</a></h1>
<p>Il linguaggio che vedremo quest'anno è <a href="https://www.python.org/">Python</a>. Python è un linguaggio completamente open-source, il codice sorgente è reperibile sulla pagina <a href="https://github.com/python">ufficiale di GitHub</a> ed è rilasciato sotto la <a href="https://opensource.org/licenses/Python-2.0">Python License</a>.</p>
<p style="margin:auto;width:500px">
<img class="right_side w20p" title="Python logo" alt="Python logo" src="01-base/assets/python-logo.png" width=200>
<img class="left_side" title="Guido van Rossum" alt="Python logo" src="01-base/assets/guido-van-rossum.jpg" width=200>
</p>
<p>Python è stato creato alla fine degli anni '80 dall'olandese <a href="https://en.wikipedia.org/wiki/Guido_van_Rossum">Guido van Rossum</a>, all'età di circa trent'anni. Come molti colleghi nell'ambito informatico, il suo operato è stato costantemente guidato da alcuni ideali, in particolare van Rossum credeva che la programmazione dovesse essere accessibile a tutti; le sue scelte per la sintassi del linguaggio hanno avuto sempre questa direzione. Nel 1999 sono state pubblicate delle linee guida che riassumevano questi concetti, conosciute come <a href="https://www.python.org/dev/peps/pep-0020/">&quot;The Zen of Python&quot;</a>.</p>
<blockquote>
<p>È anche possibile leggere queste linee guida direttamente dentro Python, scrivendo <code>import this</code> :)</p>
</blockquote>
<blockquote>
<p>Se volete provare gli snippet di codice in questa pagina, potete usare il <a href="https://code.sololearn.com/#py">playground online</a> di SoloLearn.</p>
</blockquote>
<h2 id="caratteristiche"><a class="header" href="#caratteristiche">Caratteristiche</a></h2>
<p>Python ha una sintassi essenziale, eliminando quasi tutta la punteggiatura.</p>
<p>Esempio di un programma Python completo e valido:</p>
<pre><code class="language-py">catalogue = [&quot;Harry Potter e il calice di fuoco&quot;, &quot;Il rosso e il nero&quot;, &quot;Il piccolo principe&quot;]
for title in catalogue:
   print(title)
print(&quot;goodbye&quot;)
</code></pre>
<p>Nella prima riga, viene dichiarata una nuova variabile <code>catalogue</code>. Il tipo della variabile viene <em>inferito</em> dal valore assegnato; in questo caso, siccome assegniamo qualcosa che è tra parentesi quadre, il tipo di <code>catalogue</code> è una lista. Fate attenzione: la riga <em>non</em> finisce con il punto e virgola!</p>
<p>Nella seconda riga c'è un ciclo <code>for</code>. Notate che non ci sono parentesi di nessun tipo, né tonde né graffe; attenzione però che la riga in questo caso finisce con i due punti Le stesse regole valgono anche per il condizionale <code>if</code>. </p>
<p>Ma se non ci sono parentesi graffe, come si fa a sapere dove finisce il contenuto del ciclo <code>for</code>? Qui c'è la scelta un po' azzardata di van Rossum: usare l'indentazione del codice per definire dove finiscono i blocchi, ed obbligare lo sviluppatore ad usare le buone pratiche di indentazione. Una scelta che con il tempo tutto sommato ha ripagato!</p>
<p>Quindi vediamo che il contenuto del <code>for</code> è solo <code>print(title)</code>, mentre la riga successiva, la quarta, è fuori dal ciclo.</p>
<p>Se eseguiamo il codice, avremo il seguente output su console:</p>
<pre><code class="language-txt">Harry Potter e il calice di fuoco
Il rosso e il nero
Il piccolo principe
goodbye
</code></pre>
<h2 id="importare-una-libreria-esterna"><a class="header" href="#importare-una-libreria-esterna">Importare una libreria esterna</a></h2>
<p>Se ci servono delle librerie esterne per fare delle operazioni particolari, su usano le keyword <code>import</code> e <code>from</code>. Ad esempio immaginiamo di voler stampare la data e l'ora attuali. </p>
<pre><code class="language-py">from datetime import datetime
print(datetime.now())
</code></pre>
<p>che avrà come output il giorno e l'ora attuali, ad esempio:</p>
<pre><code>2019-11-29 21:57:27.676783
</code></pre>
<p>In generale, dopo il <code>from</code> ci va il nome di un file Python (senza estensione), e dopo <code>import</code> il nome di una variabile. In questo esempio, nella prima riga importiamo la variabile <code>datetime</code> da un file che si chiama con lo stesso nome. Il file <code>datetime</code> nel caso specifico non è creato da noi ma è una libreria di sistema, ma possiamo usare la stessa sintassi anche per i nostri file.</p>
<h3 id="librerie-aggiuntive"><a class="header" href="#librerie-aggiuntive">Librerie aggiuntive</a></h3>
<p>Solo le librerie esterne più comuni, come <code>datetime</code>, sono già pre-installate in Python. Esistono infatti decine di migliaia di librerie, in continuo cambiamento, scaricarle tutte all'inizio sarebbe impossibile oltre che inutile! </p>
<p>Fortunatamente esiste un semplice comando per scaricare ed installare nuove librerie. Aprire un terminale sul proprio computer (anche all'interno di Visual Studio Code), e scrivere:</p>
<pre><code>pip3 install &lt;nome-libreria&gt;
</code></pre>
<p>Vediamo che <code>pip3</code> è un comando che gestisce i pacchetti Python (Pip sta per &quot;Pip installs package&quot;, è un acronimo ricorsivo), e <code>&lt;nome-libreria&gt;</code> è il nome della libreria che vogliamo scaricare.</p>
<h2 id="riferimenti-w3schools"><a class="header" href="#riferimenti-w3schools">Riferimenti W3Schools</a></h2>
<p>Il sito w3schools è un buon riferimento per imparare il Python. Consigliamo in particolare le seguenti pagine:</p>
<ul>
<li><a href="https://www.w3schools.com/python/python_datatypes.asp">Tipi base</a></li>
<li><a href="https://www.w3schools.com/python/python_lists.asp">Liste</a></li>
<li><a href="https://www.w3schools.com/python/python_for_loops.asp">For loop</a></li>
<li><a href="https://www.w3schools.com/python/python_functions.asp">Funzioni</a></li>
<li><a href="https://www.w3schools.com/python/python_classes.asp">Classi</a></li>
</ul>
<p>A breve ci serviranno anche i seguenti concetti:</p>
<ul>
<li><a href="https://www.w3schools.com/python/python_json.asp">JSON</a></li>
<li><a href="https://www.w3schools.com/python/python_pip.asp">PIP</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="come-usare-python"><a class="header" href="#come-usare-python">Come usare Python</a></h1>
<h2 id="usare-python-sul-server-della-scuola"><a class="header" href="#usare-python-sul-server-della-scuola">Usare Python sul server della scuola</a></h2>
<p>Per gli studenti del Marconi, è possibile esercitarsi con Python senza installare nulla collegandosi direttamente al server della scuola.</p>
<p>Collegatevi via SSH o con l'estensione Remote SSH al server ed usate il comando <code>python3</code> per eseguire il vostro codice Python.</p>
<h2 id="usare-python-con-visual-studio-code-sul-proprio-computer"><a class="header" href="#usare-python-con-visual-studio-code-sul-proprio-computer">Usare Python con Visual Studio Code sul proprio computer</a></h2>
<h3 id="1-installare-python"><a class="header" href="#1-installare-python">1. Installare Python</a></h3>
<p>Per installare Python su Visual Studio Code, <a href="https://code.visualstudio.com/docs/python/python-tutorial">questa</a> è la guida ufficiale. Riepiloghiamo in breve qui i passaggi.</p>
<p>Andare sul sito <a href="https://www.python.org/downloads/">Python downloads</a> e scaricare l'ultima versione di Python premendo il bottoncione giallo grande con scritto &quot;Download Python&quot;.</p>
<p>Quando lo avviate, vedrete una schermata di questo genere (la versione di Python potrebbe cambiare):</p>
<p class="img-container centered">
<img class="w80p" src="01-base/assets/python-install.png" alt="Install Python">
</p>
<p>Attenzione: selezionate l'ultima spunta in basso &quot;Add Python to PATH&quot; per poter usare i comandi Python anche da terminale.</p>
<p>Seguite le istruzioni fino in fondo, e se necessario riavviate Visual Studio Code.</p>
<h3 id="2-installare-lestensione-per-visual-studio-code"><a class="header" href="#2-installare-lestensione-per-visual-studio-code">2. Installare l'estensione per Visual Studio Code</a></h3>
<p>Aprite Visual Studio Code ed installate l'estensione <a href="https://marketplace.visualstudio.com/items?itemName=ms-python.python">Python di Microsoft</a>. </p>
<p class="img-container centered">
<img class="w80p" src="01-base/assets/python-extension.png" alt="Install Python extension">
</p>
<p>Una volta installata, quando aprirete un file con estensione <code>.py</code> vi comparirà nella barra blu in basso la possibilità di selezionare l'interprete Python. Selezionate l'ultima versione che avete appena installato.</p>
<p class="img-container centered">
<img class="w50p" src="01-base/assets/python-select-env.png" alt="Select Python Interpreter">
</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gioco-del-tris"><a class="header" href="#gioco-del-tris">Gioco del Tris</a></h1>
<p>Usiamo come caso di studio il gioco del tris (Tic Tac Toe, in inglese).</p>
<h2 id="creazione-della-board-di-gioco"><a class="header" href="#creazione-della-board-di-gioco">Creazione della board di gioco</a></h2>
<p>Il tabellone di gioco (board) del tris è formato da 3 righe e 3 colonne. Possiamo rappresentarlo con una matrie 3x3. </p>
<p>In Python possiamo creare una matrice così:</p>
<pre><code class="language-py">board = [
          ['-','-','-'],
          ['-','-','-'],
          ['-','-','-']
        ]
</code></pre>
<p>Come vedete, nella dichiarazione della variabile non è necessario specificare la dimensione, perché viene automaticamente inferito dal valore assegnato.</p>
<p>Per stampare a schermo lo stato del tabellone, possiamo scrivere un doppio ciclo che va da uno a tre:</p>
<pre><code class="language-py">    for i in range(3):
        for j in range(3):
            print(board[i][j], end=&quot; &quot;)
        print()
</code></pre>
<p>La funzione <code>range(n)</code> permette di iterare tra ed 0 e n-1; in questo caso quindi <code>i</code> assumerà i valori da 0 a 2.</p>
<blockquote>
<p><code>range(n)</code> può essere usato per iterare in molti modi, vedi <a href="https://docs.python.org/3/library/stdtypes.html#ranges">qui</a>.</p>
</blockquote>
<p>Mettiamo questo doppio ciclo all'interno di una funzione, in modo da poterlo richiamare quando ci è necessario.</p>
<pre><code class="language-py"># definisco la funzione
def mostra_tabellone():
    for i in range(3):
        for j in range(3):
            print(board[i][j], end=&quot; &quot;)
        print()

# richiamo di funzione
mostra_tabellone()
</code></pre>
<p>Notare come tutto quello che appartiene alla funzione è indentato, mentre ciò che non ne fa parte non ha nessuna indentazione.</p>
<p>Ricordiamo anche che è buona norma che le funzioni comincino con un verbo, in quanto rappresentano delle azioni.</p>
<h2 id="richiesta-di-un-valore-in-input"><a class="header" href="#richiesta-di-un-valore-in-input">Richiesta di un valore in input</a></h2>
<p>Per chiedere un valore in modo interattivo in input all'utente, si può usare la funzione <code>input()</code>.</p>
<p>Ad esempio per chiedere la riga in cui inserire il proprio segno nel tabellone, potremmo scrivere:</p>
<pre><code class="language-py">r = input(&quot;Inserisci la riga (valori da 0 a 2): &quot;)
</code></pre>
<p>Attenzione però: la funzione <code>input()</code> ritorna una stringa, mentre noi vorremmo avere un intero. Per convertire da stringa ad intero, possiamo usare la funzione <code>int()</code>:</p>
<pre><code class="language-py">r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
</code></pre>
<p>Analogamente per la colonna. Complessivamente:</p>
<pre><code class="language-py">r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
c = int(input(&quot;Inserisici la colonna (valori da 0 a 2): &quot;))
</code></pre>
<h2 id="inserire-i-simboli-nel-tabellone"><a class="header" href="#inserire-i-simboli-nel-tabellone">Inserire i simboli nel tabellone</a></h2>
<p>Per inserire il simbolo di un giocatore è sufficiente assegnare il carattere nel tabellone:</p>
<pre><code class="language-py">board[r][c] = symbol
</code></pre>
<p>Ora però vogliamo ripetere questa operazione finché il tabellone non è pieno oppure finché qualcuno non ha vinto. Creiamo un ciclo che al massimo può essere eseguito 9 volte. Il </p>
<pre><code class="language-py">for idx in range(9):
    mostra_tabellone()

    r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
    c = int(input(&quot;Inserisici la colonna (valori da 0 a 2): &quot;))
    #  aggiungere anche condizione che r,c devono essere compresi tra 0 e 2
    if board[r][c]=='-':
        board[r][c] = 'O'
</code></pre>
<p>In questo modo però stiamo assegnando sempre il simbolo 'O' , che ovviamente non è quello che vogliamo. Vogliamo alternare i simboli 'X' e 'O'. Potremmo fare che per <code>idx</code> pari mettiamo un simbolo, e per i dispari l'altro. Per fare questo possiamo creare una lista con i due simboli, ed assegnare il simbolo in base all'indice, come di seguito.</p>
<pre><code class="language-py">symList = ['X','O']

for idx in range(9):
    
    symbol = symList[idx%2]

    mostra_tabellone()

    print(&quot;Il tuo simbolo è: &quot;+symbol)

    r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
    c = int(input(&quot;Inserisici la colonna (valori da 0 a 2): &quot;))
    #  aggiungere anche condizione che r,c devono essere compresi tra 0 e 2
    if board[r][c]=='-':
        board[r][c] = symbol
</code></pre>
<p>Con questa soluzione per il simbolo, riusciamo ad evitare di inserire un if. In generale, è una buona regola di programmazione ridurre il numero di condizioni, sia perché di solito facilita la lettura, sia perché il codice è più facile da testare. Ovviamente è solo un suggerimento da usare in base al proprio giudizio.</p>
<h2 id="controllo-dei-valori-di-ingresso"><a class="header" href="#controllo-dei-valori-di-ingresso">Controllo dei valori di ingresso</a></h2>
<p>È importante controllare sempre i valori di ingresso forniti dall'utente, per rendere il codice più robusto.</p>
<p>Per fare questo, ci serve un ciclo che chiede all'infinito i valori di input finché questi non sono corretti.</p>
<pre><code class="language-py"># while True esegue un ciclo infinito
while True:
        r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
        c = int(input(&quot;Inserisici la colonna (valori da 0 a 2): &quot;))
        #  aggiungere anche condizione che r,c devono essere compresi tra 0 e 2
        if board[r][c]=='-':
            board[r][c] = symbol
            # break esce dal ciclo
            break
</code></pre>
<h2 id="controllo-della-condizione-di-vittoria"><a class="header" href="#controllo-della-condizione-di-vittoria">Controllo della condizione di vittoria</a></h2>
<p>Creiamo una funzione che controlla se qualcuno ha vinto.</p>
<p>Vogliamo creare una funzione che ritorni <code>False</code> nel caso in cui nessuno ha vinto, altrimenti il simbolo del vincitore.</p>
<pre><code class="language-py">def win(board):
    # ripete il controllo per ogni giocatore
    for sym in symList:
        # controlla se ci sono 3 simboli uguali in una riga
        for i in range(3):
            if board[i].count(sym)==3:
                return sym

        # controlla se ci sono 3 simboli uguali in una colonna
        for i in range(3):
            if (board[0][i]==sym and 
               board[1][i]==sym and
               board[2][i]==sym):
                return sym

        # controlla le due diagonali
        if (board[0][0]==sym and
           board[1][1]==sym and
           board[2][2]==sym):
            return sym
        if (board[0][2]==sym and
           board[1][1]==sym and
           board[2][0]==sym):
            return sym
    
    return False
</code></pre>
<h2 id="codice-finale"><a class="header" href="#codice-finale">Codice finale</a></h2>
<pre><code class="language-py">#!/usr/bin/env python3

print(&quot;Gioco del tic tac toe&quot;)

board = [
          ['-','-','-'],
          ['-','-','-'],
          ['-','-','-']
        ]

symList = ['X','O']

def mostra_tabellone():
    for i in range(3):
        for j in range(3):
            print(board[i][j], end=&quot; &quot;)
        print()

def win(board):
    for sym in symList:

        #check rows
        for i in range(3):
            if board[i].count(sym)==3:
                return sym

        #check columns
        for i in range(3):
            if (board[0][i]==sym and 
               board[1][i]==sym and
               board[2][i]==sym):
                return sym
        # check diagonals
        if (board[0][0]==sym and
           board[1][1]==sym and
           board[2][2]==sym):
            return sym
        if (board[0][2]==sym and
           board[1][1]==sym and
           board[2][0]==sym):
            return sym
    
    return False


winner=False

for idx in range(9):
    
    symbol = symList[idx%2]

    mostra_tabellone()

    print(&quot;Il tuo simbolo è: &quot;+symbol)

    while True:
        r = int(input(&quot;Inserisci la riga (valori da 0 a 2): &quot;))
        c = int(input(&quot;Inserisici la colonna (valori da 0 a 2): &quot;))
        #  aggiungere anche condizione che r,c devono essere compresi tra 0 e 2
        if board[r][c]=='-':
            board[r][c] = symbol
            break
    winner=win()
    if winner:
        break
        

mostra_tabellone()
print(&quot;The winner is... &quot;+winner+&quot;!&quot;)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="test-del-gioco"><a class="header" href="#test-del-gioco">Test del gioco</a></h1>
<p>Prima di andare avanti, è bene creare una struttura di test che ci permetta di assicurarci che, qualsiasi modifica faremo in futuro al nostro codice, le funzionalità base continueranno sempre ad essere corrette.</p>
<p>I test sono uno degli strumenti più importanti nella cassetta degli sviluppatori per poter scrivere del buon codice nel tempo.</p>
<h2 id="creazione-del-file-di-test"><a class="header" href="#creazione-del-file-di-test">Creazione del file di test</a></h2>
<p>Creiamo un nuovo file chiamato <code>test_tris.py</code>. In generale il file di test ha lo stesso nome del file che deve testare, con il prefisso <code>test_</code>.</p>
<p>Come prima riga, importiamo la funzione che vogliamo testare.</p>
<pre><code class="language-py">from tris import win
</code></pre>
<p>Ora creiamo una funzione di test. Ogni funzione deve avere al suo interno l'istruzione <code>assert</code> con la condizione che si vuole testare.</p>
<pre><code class="language-py">def test_win_1():
    board = [
              ['X','X','X'],
              ['-','O','O'],
              ['-','-','-']
            ]
    assert win(board) == 'X'
</code></pre>
<p>Alla fine della funzione di test dobbiamo ricordarci di chiamare il test.</p>
<pre><code class="language-py">test_win_1()
</code></pre>
<h2 id="funzioni-di-test"><a class="header" href="#funzioni-di-test">Funzioni di test</a></h2>
<p>&quot;Un programmatore entra in un pub ed ordina una birra, 2 birre, 10 birre, 1000 birre, 0 birre, -1 birra, asdasdqwe birre.&quot;</p>
<p>Questa &quot;barzelletta&quot; nerd ricorda come dovrebbero disegnarsi i test. Bisogna testare tutte le condizioni &quot;normali&quot;, che ci si aspetta, e cercare di immaginarsi anche tutte le cose che potrebbero andare storte.</p>
<p>Nel nostro caso dobbiamo prevedere:</p>
<ul>
<li>8 test per la vittoria di 'X' (3 righe, 3 colonne, 2 diagonali)</li>
<li>8 test per la vittoria di 'O'</li>
<li>un certo numero di test per le situazioni di non vittoria (il gioco continua)</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
